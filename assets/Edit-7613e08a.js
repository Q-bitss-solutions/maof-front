import{F as h}from"./FormProject-3cd15845.js";import{A as g}from"./ArrowBack-0d319b8d.js";import{T as b}from"./TitleBar-d9022a58.js";import{a as y,u as P}from"./project-abfcce71.js";import{_ as x,a as k,q as v,u as B,m as w,b as a,o as f,c as E,d as c,e as n,t as S,g as $,h as A}from"./index-219e2d0f.js";import{S as p}from"./sweetalert2.all-281a79b7.js";import{L as C}from"./LogoutComponent-12869c17.js";import{H as I}from"./HomePage-c4619b32.js";import"./InputBase-0f5255f2.js";import"./fetchApi-e1006db9.js";const N={name:"EditProject",components:{FormProject:h,ArrowBack:g,TitleBar:b,HomePage:I,LogoutComponent:C},setup(){const l=k(),{rol:d}=l.getAuthData,_=v(),o=B(),t=w({project:{},loading:!0}),u=async()=>{t.loading=!0;const{data:e}=await y(_.params.projectId);t.project=e,t.loading=!1},i=async e=>{try{await P(e),p.fire("¡Éxito!","Proyecto actualizado con éxito!","success"),o.push({name:"Projects"})}catch(r){if(r.response.data.detail)p.fire("Error",`${r.response.data.detail}`,"error");else{let s=[];for(const[m,j]of Object.entries(r.response.data))s.push(`
${m} - ${j}
`);p.fire("Error",`${s}`,"error")}}};return u(),{app:t,rol:d,saveProject:i}}},V={class:"px-4 mt-10"},D={class:"flex justify-between"},F={class:"flex justify-center items-center"},H={class:"text-black font-semibold mr-4 items-center content-center"},L={class:"px-4"};function R(l,d,_,o,t,u){const i=a("arrow-back"),e=a("home-page"),r=a("logout-component"),s=a("title-bar"),m=a("form-project");return f(),E("main",V,[c("div",D,[n(i),c("div",F,[c("p",H,S(o.rol),1),n(e),n(r)])]),n(s,{title:"Proyectos",subtitle:"Editar"}),c("section",L,[o.app.loading?A("",!0):(f(),$(m,{key:0,onSubmit:o.saveProject,project:o.app.project,"edit-mode":""},null,8,["onSubmit","project"]))])])}const W=x(N,[["render",R]]);export{W as default};
