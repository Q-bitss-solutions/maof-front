import{T as b}from"./TableBase-f656316d.js";import{a as h,d as B}from"./SICTUnits-8ec47a46.js";import{A as g}from"./ArrowBack-ff2605f5.js";import{H as w}from"./HomePage-748ee588.js";import{B as v}from"./fetchApi-346063d6.js";import{_ as x,a as A,u as C,r as I,b as o,o as O,c as U,d as n,e as a,t as T}from"./index-3d023741.js";import{T as k}from"./TitleBar-ddba64e5.js";import{S as u}from"./sweetalert2.all-281a79b7.js";import{L as y}from"./LogoutComponent-2596a504.js";const F={name:"UnitMAOFIndex",components:{TableBase:b,ArrowBack:g,HomePage:w,ButtonBase:v,TitleBar:k,LogoutComponent:y},setup(){const _=A(),{rol:p}=_.getAuthData,s=C(),e=[{label:"Id",field:"clave_unidad"},{label:"Unidad MAOF",field:"unidad"},{label:"Estatus",field:"estado_unidad_maof"}],i=I([]),r=async()=>{const{data:t}=await h();i.value=t},c=[{label:"Editar",action:t=>{s.push({name:"EditUnitMAOF",params:{unityMAOFId:t.id_unidad_maof}})}},{label:"Inactivar",action:async t=>{u.fire({title:`Estás seguro que deseas inactivar la unidad "${t.unidad}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Si, Inactivar!",reverseButtons:!0}).then(async l=>{if(l.isConfirmed)try{await B(t.id_unidad_maof),await r(),u.fire("¡Inactivo!","La unidad se inactivó","success")}catch(m){u.fire("Error",`${m.response.data.detail}`,"error")}})}}],d=()=>s.push({name:"NewUnitMAOF"});return r(),{resident:i,featureOptions:c,headers:e,rol:p,goToNewResident:d}}},M={class:"px-4 mt-10"},S={class:"flex justify-between"},E={class:"flex justify-center items-center"},N={class:"text-black font-semibold mr-4 items-center content-center"},L={class:"px-4"};function R(_,p,s,e,i,r){const c=o("arrow-back"),d=o("home-page"),t=o("logout-component"),l=o("title-bar"),m=o("button-base"),f=o("table-base");return O(),U("main",M,[n("div",S,[a(c),n("div",E,[n("p",N,T(e.rol),1),a(d),a(t)])]),a(l,{title:"Unidades MAOF",subtitle:"Inicio"}),n("section",L,[a(m,{label:"Nueva Unidad MAOF",onClick:e.goToNewResident,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),a(f,{description:"Unidades MAOF",options:e.featureOptions,headers:e.headers,data:e.resident},null,8,["options","headers","data"])])])}const J=x(F,[["render",R]]);export{J as default};
