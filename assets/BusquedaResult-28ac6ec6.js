import{T as E,D as g}from"./DetailEstimate-74c7e549.js";import{A as v}from"./ArrowBack-a258f303.js";import{T as R}from"./TitleBar-47b733ce.js";import{H as B}from"./HomePage-c64d44f9.js";import{B as w}from"./fetchApi-580c81dd.js";import{T as A}from"./ToggleSwtich-330bc6b9.js";import{_ as y,r as f,u as C,b as i,o as h,c as I,d as m,e as n,g as N,h as T}from"./index-9f5a0b1b.js";import"./sweetalert2.all-281a79b7.js";import{f as q}from"./residentEstimate-6f935cde.js";import{c as D}from"./consultas-dab2660a.js";import{L as O}from"./LogoutComponent-4e8f1900.js";import"./contract-b425ff76.js";import"./PDF-a4bdfbbc.js";const k={name:"ConsultasBusquedaMAOF",components:{TableroEstimacionResidente:E,ArrowBack:v,HomePage:B,ButtonBase:w,TitleBar:R,DetailEstimate:g,ToggleSwitch:A,LogoutComponent:O},setup(){const t=f({busqueda:{},loading:!0}),r=[{label:"#",field:""},{label:"Contrato o Convenio de Colaboración",field:"numero_contrato"},{label:"Convenio Modificatorio",field:"numero_contrato_padre"},{label:" ",field:"documents"},{label:"# Estimación",field:"num_consecutivo_estimacion"},{label:"Inicio",field:"fecha_periodo_inicio_estimacion"},{label:"Fin",field:"fecha_periodo_fin_estimacion"},{label:"Alta",field:"fecha_alta"},{label:"Fecha de autorización",field:"fecha_autorizacion_contratista"},{label:"Días transcurridos",field:"dias_transcurridos"},{label:"RESIDENTE",field:"estatus_semaforo"},{label:"ÁREA REVISORA",field:"estatus_semaforo"},{label:"FINANZAS",field:"estatus_semaforo"},{label:"TRÁMITE DE PAGO",field:"estatus_semaforo"},{label:"PAGO",field:"estatus_semaforo"}],p=[{label:"Detalles",action:async a=>{l.value=!l.value;const{data:o}=await q(a.id_estimacion);o.fecha_recepcion_info_contratista=o.fecha_recepcion_info_contratista.split(" ")[0],o.fecha_periodo_inicio_estimacion=o.fecha_periodo_inicio_estimacion.split(" ")[0],o.fecha_periodo_fin_estimacion=o.fecha_periodo_fin_estimacion.split(" ")[0],d.value=o}},{label:"Nuevo",action:a=>e.push({name:"NewResidentEstimateById",params:{residentEstimateId:a.contrato_estimacion}})},{label:"Archivo",action:async a=>{e.push({name:"FilesResidentEstimate",params:{residentEstimateId:a.id_estimacion}})}},{label:"Histórico",action:async a=>{e.push({name:"HistoricoResidentEstimate",params:{residentEstimateId:a.id_estimacion}})}}],e=C(),b=D(),d=f([]);let l=f(!1),s=!1;const _=async()=>{s=!s,s===!0&&(t.value.loading=!0,t.value.busqueda=t.value.busqueda.filter(a=>a.estatus_semaforo!=="Pago Efectuado"),t.value.loading=!1),s===!1&&c()},u=()=>e.push({name:"NewResidentEstimate"}),c=()=>{t.value.loading=!0,t.value.busqueda=b.busqueda,t.value.loading=!1};return c(),{app:t,procesoVariable:s,headers:r,featureOptions:p,detalleEstimacionData:d,detalleEstimacion:l,goToNewResidentEstimate:u,getQuery:c,processo:_}}},x={class:"px-4 mt-10"},F={class:"flex justify-between"},P={class:"px-4"},S={class:"flex justify-end"};function V(t,r,p,e,b,d){const l=i("arrow-back"),s=i("home-page"),_=i("logout-component"),u=i("title-bar"),c=i("detail-estimate"),a=i("toggle-switch"),o=i("tablero-estimacion-residente");return h(),I("main",x,[m("div",F,[n(l),m("div",null,[n(s),n(_)])]),n(u,{title:"Estimación Residente",subtitle:"Busqueda"}),m("section",P,[m("div",S,[n(c,{data:e.detalleEstimacionData,isOpen:e.detalleEstimacion,onSubmit:r[0]||(r[0]=H=>e.detalleEstimacion=!1)},null,8,["data","isOpen"]),n(a,{label:"En Proceso",onChange:e.processo,class:"mb-3 mr-0 ml-10"},null,8,["onChange"])]),e.app.loading?T("",!0):(h(),N(o,{key:0,options:e.featureOptions,headers:e.headers,data:e.app.busqueda},null,8,["options","headers","data"]))])])}const $=y(k,[["render",V]]);export{$ as default};
