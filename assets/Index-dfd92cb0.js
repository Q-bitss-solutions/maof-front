import{T as _}from"./TableUsers-4605c444.js";import{a as b,d as p}from"./users-4043abca.js";import{B as A}from"./fetchApi-6f7d5678.js";import{_ as B,u as h,r as f,b as n,o as C,c as v,e as i,d as w}from"./index-284224ac.js";import{T as E}from"./TitleBar-e4a4b5bb.js";import{S as t}from"./sweetalert2.all-281a79b7.js";import{C as O}from"./CustomHeaderApp-9682a33e.js";import"./ArrowBack-8c37bbd5.js";import"./HomePage-45decf19.js";import"./LogoutComponent-990bb1e2.js";import"./ManualComponent-3719973b.js";const U={name:"UsersRolesMAOFIndex",components:{TableBase:_,ButtonBase:A,TitleBar:E,CustomHeaderApp:O},setup(){const l=h(),u=[{label:"Id",field:"empleado_maof"},{label:"Nombre",field:"nombre_completo"},{label:"Unidad MAOF",field:"unidad_maof"},{label:"Correo",field:"correo_electronico"},{label:"Rol MAOF",field:"rol_maof"},{label:"Estatus",field:"estatus_empleado"}],c=f([]),o=f({estatus_empleado:""}),r=async()=>{const{data:e}=await b();c.value=e},d=[{label:"Editar",action:e=>{l.push({name:"EditUsersRolesMAOF",params:{userRolMAOFId:e.empleado_maof}})}},{label:"Estatus",action:async e=>{e.estatus_empleado==="Inactivo"&&t.fire({title:`Estás seguro que deseas activar al usuario "${e.nombre_completo}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Si, Activar!",reverseButtons:!0}).then(async a=>{if(a.isConfirmed)try{o.estatus_empleado=!0,await p(e.empleado_maof,o),await r(),t.fire("¡Activo!","El usuario se Activó","success")}catch(s){t.fire("Error",`${s.response.data.detail}`,"error")}}),e.estatus_empleado==="Activo"&&t.fire({title:`Estás seguro que desea inactivar al usuario "${e.nombre_completo}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Si, Inactivar!",reverseButtons:!0}).then(async a=>{if(a.isConfirmed)try{o.estatus_empleado=!1,await p(e.empleado_maof,o),await r(),t.fire("¡Inactivo!","El usuario se inactivó","success")}catch(s){t.fire("Error",`${s.response.data.detail}`,"error")}})}}],m=()=>l.push({name:"NewUsersRolesMAOF"});return r(),{userAndRols:c,userAndRolStatus:o,featureOptions:d,headers:u,goToNewUserAndRols:m}}},x={class:"px-4 mt-10"},F={class:"px-4"};function M(l,u,c,o,r,d){const m=n("CustomHeaderApp"),e=n("title-bar"),a=n("button-base"),s=n("table-base");return C(),v("main",x,[i(m),i(e,{title:"Usuarios y Roles MAOF",subtitle:"Inicio"}),w("section",F,[i(a,{label:"Alta de usuarios MAOF",onClick:o.goToNewUserAndRols,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),i(s,{description:"Usuarios MAOF",options:o.featureOptions,headers:o.headers,data:o.userAndRols},null,8,["options","headers","data"])])])}const V=B(U,[["render",M]]);export{V as default};
