import{F as f}from"./FormAmendingAgreement-857c0a07.js";import{A as u}from"./ArrowBack-d63a4364.js";import{T as _}from"./fetchApi-31df9da7.js";import{a as A,u as b}from"./contract-739c3836.js";import{_ as k,l as v,u as B,k as h,a as i,o as p,c as x,g,b as w,e as y,f as C}from"./index-5a3578da.js";import{S as s}from"./sweetalert2.all-281a79b7.js";import"./InputBase-3dbf9f97.js";import"./TextAreaBase-e2b8248d.js";import"./ButtonBase-56b47a72.js";import"./SelectBase-4536674d.js";import"./reviewArea-1d78b1d7.js";import"./contractor-1102dd2f.js";import"./project-1c0ca4a3.js";const E={name:"EditAmendingAgreement",components:{FormAmendingAgreement:f,ArrowBack:u,TitleBar:_},setup(){const m=v(),c=B(),e=h({amendingAgreement:{},loading:!0}),t=async()=>{e.loading=!0;const{data:r}=await A(m.params.amendingAgreementId);e.amendingAgreement=r,e.loading=!1},d=async r=>{try{await b(r),s.fire("¡Éxito!","Convenio modificatorio actualizado con éxito!","success"),c.push({name:"AmendingAgreement"})}catch(o){if(o.response.data.detail)s.fire("Error",`${o.response.data.detail}`,"error");else{let n=[];for(const[a,l]of Object.entries(o.response.data))n.push(`
${a} - ${l}
`);s.fire("Error",`${n}`,"error")}}};return t(),{app:e,saveAmendingAgreement:d}}},$={class:"px-4 mt-10"},S={class:"px-4"};function I(m,c,e,t,d,r){const o=i("arrow-back"),n=i("title-bar"),a=i("form-amending-agreement");return p(),x("main",$,[g(o),g(n,{title:"Convenio Modificatorio",subtitle:"Editar"}),w("section",S,[t.app.loading?C("",!0):(p(),y(a,{key:0,onSubmit:t.saveAmendingAgreement,amendingAgreement:t.app.amendingAgreement,"edit-mode":""},null,8,["onSubmit","amendingAgreement"]))])])}const J=k(E,[["render",I]]);export{J as default};
