import{F as f}from"./FormProject-2e3c3eca.js";import{T as _}from"./TitleBar-1068e623.js";import{a as j,u as P}from"./project-471c83d3.js";import{_ as x,G as y,u as h,r as v,f as c,g as d,l as B,v as l,q as b,j as g,x as C}from"./index-920dd253.js";import{S as n}from"./sweetalert2.all-281a79b7.js";import{C as E}from"./CustomHeaderApp-0287c004.js";import"./InputBase-509f2428.js";import"./fetchApi-cdd6cb3e.js";import"./ArrowBack-90923dcc.js";import"./HomePage-c35a3524.js";import"./LogoutComponent-5eb012a3.js";const $={name:"EditProject",components:{FormProject:f,TitleBar:_,CustomHeaderApp:E},setup(){const p=y(),i=h(),o=v({project:{},loading:!0}),t=async()=>{o.loading=!0;const{data:r}=await j(p.params.projectId);o.project=r,o.loading=!1},m=async r=>{try{await P(r),n.fire("¡Éxito!","Proyecto actualizado con éxito!","success"),i.push({name:"Projects"})}catch(e){if(e.response.data.detail)n.fire("Error",`${e.response.data.detail}`,"error");else{let a=[];for(const[s,u]of Object.entries(e.response.data))a.push(`
${s} - ${u}
`);n.fire("Error",`${a}`,"error")}}};return t(),{app:o,saveProject:m}}},k={class:"px-4 mt-10"},S={class:"px-4"};function w(p,i,o,t,m,r){const e=c("CustomHeaderApp"),a=c("title-bar"),s=c("form-project");return d(),B("main",k,[l(e),l(a,{title:"Proyectos",subtitle:"Editar"}),b("section",S,[t.app.loading?C("",!0):(d(),g(s,{key:0,onSubmit:t.saveProject,project:t.app.project,"edit-mode":""},null,8,["onSubmit","project"]))])])}const O=x($,[["render",w]]);export{O as default};
