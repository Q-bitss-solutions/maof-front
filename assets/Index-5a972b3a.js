import{T as d}from"./TableBase-87a030a4.js";import{f,d as u}from"./project-63880b23.js";import{A as b,T as h}from"./TitleBar-c6610f6e.js";import{B as y}from"./ButtonBase-3a358441.js";import{_ as B,u as w,r as E,a,o as j,c as g,g as r,b as x}from"./index-e9431c5a.js";import{S as l}from"./sweetalert2.all-281a79b7.js";const P={name:"ProjectIndex",components:{TableBase:d,ArrowBack:b,ButtonBase:y,TitleBar:h},setup(){const t=w(),m=[{label:"Clave cartera",field:"clave_cartera"},{label:"Nombre proyecto",field:"nombre_proyecto"},{label:"Monto total inversiÃ³n",field:"monto_total_inversion"},{label:"Estatus proyecto",field:"estatus_proyecto"},{label:"Fecha inicio",field:"fecha_inicio_proyecto"},{label:"Fecha fin",field:"fecha_fin_proyecto"}],n=E([]),e=async()=>{const{data:o}=await f();n.value=o},p=[{label:"Editar",action:o=>t.push({name:"EditProject",params:{projectId:o.id_proyecto}})},{label:"Eliminar",action:async o=>{l.fire({title:`Estas seguro que desea eliminar el proyecto "${o.nombre_proyecto}"?`,text:"Esto eliminara el proyecto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar!"}).then(async c=>{if(c.isConfirmed)try{await u(o.id_proyecto),await e(),l.fire("Eliminado!","El proyecto se elimino","success")}catch(i){l.fire("Error",`${i.response.data.message}`,"error")}})}}],_=()=>t.push({name:"NewProject"}),s=()=>t.push({name:"Home"});return e(),{projects:n,featureOptions:p,headers:m,goToNewProject:_,goToHome:s}}},T={class:"px-4 mt-10"},C={class:"px-4"};function k(t,m,n,e,p,_){const s=a("arrow-back"),o=a("title-bar"),c=a("button-base"),i=a("table-base");return j(),g("main",T,[r(s,{route:e.goToHome},null,8,["route"]),r(o,{title:"Proyectos",subtitle:"Inicio"}),x("section",C,[r(c,{label:"Nuevo proyecto",onClick:e.goToNewProject,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),r(i,{options:e.featureOptions,headers:e.headers,data:e.projects},null,8,["options","headers","data"])])])}const F=B(P,[["render",k]]);export{F as default};
