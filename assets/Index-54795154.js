import{T as h}from"./TableUsers-c1252af7.js";import{a as B,d as f}from"./users-cb5ff235.js";import{A as w}from"./ArrowBack-221845af.js";import{H as v}from"./HomePage-faf99f0a.js";import{B as C}from"./ButtonBase-6f308546.js";import{_ as g,u as A,r as _,a as r,o as E,c as x,b as p,g as n}from"./index-813ba7d4.js";import{T as I}from"./fetchApi-c54fee2f.js";import{S as t}from"./sweetalert2.all-281a79b7.js";const O={name:"UsersRolesMAOFIndex",components:{TableBase:h,ArrowBack:w,HomePage:v,ButtonBase:C,TitleBar:I},setup(){const c=A(),d=[{label:"Id",field:"empleado_maof"},{label:"Nombre",field:"nombre_completo"},{label:"Unidad MAOF",field:"unidad_maof"},{label:"Correo",field:"correo_electronico"},{label:"Rol MAOF",field:"rol_maof"},{label:"Estatus",field:"estatus_empleado"}],l=_([]),o=_({estatus_empleado:""}),i=async()=>{const{data:e}=await B();l.value=e},u=[{label:"Editar",action:e=>{console.log(e),c.push({name:"EditUsersRolesMAOF",params:{userRolMAOFId:e.empleado_maof}})}},{label:"Estatus",action:async e=>{e.estatus_empleado==="Inactivo"&&t.fire({title:`Estás seguro que deseas activar al usuario "${e.nombre_completo}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Si, Inactivar!",reverseButtons:!0}).then(async a=>{if(a.isConfirmed)try{await f(e.empleado_maof),await i(),t.fire("¡Inactivo!","El usuario se inactivó","success")}catch(s){t.fire("Error",`${s.response.data.detail}`,"error")}}),e.estatus_empleado==="Activo"&&t.fire({title:`Estás seguro que desea inactivar al usuario "${e.nombre_completo}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Si, Inactivar!",reverseButtons:!0}).then(async a=>{if(a.isConfirmed)try{await f(e.empleado_maof),await i(),t.fire("¡Inactivo!","El usuario se inactivó","success")}catch(s){t.fire("Error",`${s.response.data.detail}`,"error")}})}}],m=()=>c.push({name:"NewUsersRolesMAOF"});return i(),{userAndRols:l,userAndRolStatus:o,featureOptions:u,headers:d,goToNewUserAndRols:m}}},U={class:"px-4 mt-10"},F={class:"flex justify-between"},M={class:"px-4"};function T(c,d,l,o,i,u){const m=r("arrow-back"),e=r("home-page"),a=r("title-bar"),s=r("button-base"),b=r("table-base");return E(),x("main",U,[p("div",F,[n(m),n(e)]),n(a,{title:"Consulta MAOF",subtitle:"Inicio"}),p("section",M,[n(s,{label:"Alta de usuarios MAOF",onClick:o.goToNewUserAndRols,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),n(b,{options:o.featureOptions,headers:o.headers,data:o.userAndRols},null,8,["options","headers","data"])])])}const V=g(O,[["render",T]]);export{V as default};
