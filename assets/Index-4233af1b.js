import{T as b}from"./TableBase-e0f00363.js";import{f as h,d as y}from"./project-c76352de.js";import{A as v}from"./ArrowBack-6ae4d345.js";import{H as g}from"./HomePage-b55c9dba.js";import{B}from"./fetchApi-f8af7d53.js";import{_ as w,a as j,u as x,r as P,b as t,o as C,c as k,d as s,e as a,t as E}from"./index-77c78547.js";import{T}from"./TitleBar-0fee8479.js";import{S as d}from"./sweetalert2.all-281a79b7.js";import{L as I}from"./LogoutComponent-47cddd42.js";const N={name:"ProjectIndex",components:{TableBase:b,ArrowBack:v,HomePage:g,ButtonBase:B,TitleBar:T,LogoutComponent:I},setup(){const f=j(),{rol:u}=f.getAuthData,r=x(),e=[{label:"Clave cartera",field:"clave_cartera"},{label:"Nombre proyecto",field:"nombre_proyecto"},{label:"Monto total inversi칩n",field:"monto_total_inversion"},{label:"Estatus proyecto",field:"estatus_proyecto"},{label:"Fecha inicio",field:"fecha_inicio_proyecto"},{label:"Fecha fin",field:"fecha_fin_proyecto"}],n=P([]),c=async()=>{const{data:o}=await h();n.value=o},i=[{label:"Editar",action:o=>r.push({name:"EditProject",params:{projectId:o.id_proyecto}})},{label:"Inactivar",action:async o=>{d.fire({title:`Est치s seguro que deseas inactivar el proyecto "${o.nombre_proyecto}"?`,text:"Esto inactivar치 el proyecto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Inactivar!",reverseButtons:!0}).then(async p=>{if(p.isConfirmed)try{await y(o.id_proyecto),await c(),d.fire("Inactivado!","El proyecto se inactiv칩","success")}catch(_){d.fire("Error",`${_.response.data.detail}`,"error")}})}}],l=()=>r.push({name:"NewProject"}),m=()=>r.push({name:"Home"});return c(),{projects:n,featureOptions:i,headers:e,rol:u,goToNewProject:l,goToHome:m}}},S={class:"px-4 mt-10"},H={class:"flex justify-between"},A={class:"flex justify-center items-center"},D={class:"text-black font-semibold mr-4 items-center content-center"},F={class:"px-4"};function L(f,u,r,e,n,c){const i=t("arrow-back"),l=t("home-page"),m=t("logout-component"),o=t("title-bar"),p=t("button-base"),_=t("table-base");return C(),k("main",S,[s("div",H,[a(i),s("div",A,[s("p",D,E(e.rol),1),a(l),a(m)])]),a(o,{title:"Proyectos",subtitle:"Inicio"}),s("section",F,[a(p,{label:"Nuevo proyecto",onClick:e.goToNewProject,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),a(_,{description:"Proyectos",options:e.featureOptions,headers:e.headers,data:e.projects},null,8,["options","headers","data"])])])}const K=w(N,[["render",L]]);export{K as default};
