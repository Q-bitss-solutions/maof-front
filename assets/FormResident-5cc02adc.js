import{I as f}from"./InputBase-aeccb3b2.js";import{B as b}from"./ButtonBase-0f30a1f8.js";import{S as v}from"./SelectBase-eb5912e9.js";import{f as R}from"./reviewArea-853a61ec.js";import{f as V}from"./TitleBar-a53dcb3b.js";import{_ as y,k as A,a as l,o as r,c as B,e as c,f as p,g as _}from"./index-86322900.js";const C=i=>V({url:`/cat_empleados_sict/?unidad_sict=${i}`,method:"GET"}),E={name:"FormResident",props:{editMode:{type:Boolean,default:!1},resident:{type:Object,default:()=>({})}},components:{InputBase:f,ButtonBase:b,SelectBase:v},setup(i,{emit:a}){const o=A({resident:{id_empleado_sict:"",fecha_inicio_residente:"",fecha_fin_residente:""},idAreaRevisora:"",listReviewAreas:[],listEmpleados:[]});i.editMode&&(o.resident=i.resident,o.resident.fecha_inicio_residente=i.resident.fecha_inicio_residente.split("-").reverse().join("-"));const e=()=>a("submit",o.resident),d=async()=>{const{data:s}=await R();o.listReviewAreas=s.map(t=>({value:t.id,label:t.nombre_unidad}))},m=async()=>{const{data:s}=await C(o.idAreaRevisora);o.listEmpleados=s.map(t=>({value:t.empleado_sict,label:t.nombre_completo}))};return d(),{app:o,sendForm:e,getReviewAreas:d,getEmpleadosSICT:m}}},k={class:"max-w-xl mx-auto"};function h(i,a,o,e,d,m){const s=l("select-base"),t=l("input-base"),u=l("button-base");return r(),B("div",k,[o.editMode!==!0?(r(),c(s,{key:0,id:"id_area_revisora",label:"Área revisora",options:e.app.listReviewAreas,modelValue:e.app.idAreaRevisora,"onUpdate:modelValue":a[0]||(a[0]=n=>e.app.idAreaRevisora=n),onChange:a[1]||(a[1]=n=>e.getEmpleadosSICT()),class:"mb-3"},null,8,["options","modelValue"])):p("",!0),o.editMode!==!0?(r(),c(s,{key:1,id:"id_empleado_sict",label:"Empleado SICT",options:e.app.listEmpleados,class:"mb-3",modelValue:e.app.resident.id_empleado_sict,"onUpdate:modelValue":a[2]||(a[2]=n=>e.app.resident.id_empleado_sict=n)},null,8,["options","modelValue"])):p("",!0),_(t,{id:"fecha_inicio_proyecto",label:"Fecha inicio del residente",type:"date",class:"mb-3",modelValue:e.app.resident.fecha_inicio_residente,"onUpdate:modelValue":a[3]||(a[3]=n=>e.app.resident.fecha_inicio_residente=n)},null,8,["modelValue"]),_(u,{label:"Guardar",onClick:e.sendForm,class:"mr-0 ml-auto"},null,8,["onClick"])])}const T=y(E,[["render",h]]);export{T as F};
