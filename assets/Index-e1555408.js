import{T as E,D as h}from"./DetailEstimate-c99cb21a.js";import{T as R}from"./TableBase-dccd670b.js";import{f as g,a as v,b as w}from"./residentEstimate-4e288cb6.js";import{A as I}from"./ArrowBack-7d4ba173.js";import{H as T}from"./HomePage-d9726a71.js";import{B as A}from"./ButtonBase-0f60b843.js";import{T as B}from"./ToggleSwtich-ff3da1c1.js";import{_ as N,u as x,r as p,a as o,o as y,c as C,b,g as i}from"./index-67002968.js";import{T as D}from"./fetchApi-810810ca.js";import"./sweetalert2.all-281a79b7.js";import"./contract-ee332572.js";import"./PDF-23a4e044.js";const k={name:"ResidentEstimateIndex",components:{TableroEstimacionResidente:E,ArrowBack:I,HomePage:T,ButtonBase:A,TitleBar:D,TableBase:R,ToggleSwitch:B,DetailEstimate:h},setup(){const n=x(),l=[{label:"#",field:""},{label:"Contrato o Convenio de Colaboración",field:"numero_contrato"},{label:"Convenio Modificatorio",field:"numero_contrato_padre"},{label:" ",field:"documents"},{label:"# Estimación",field:"num_consecutivo_estimacion"},{label:"Inicio",field:"fecha_periodo_inicio_estimacion"},{label:"Fin",field:"fecha_periodo_fin_estimacion"},{label:"Alta",field:"fecha_alta"},{label:"Fecha de autorización",field:"fecha_autorizacion_contratista"},{label:"Días transcurridos",field:"dias_transcurridos"},{label:"RESIDENTE",field:"estatus_semaforo"},{label:"ÁREA REVISORA",field:"estatus_semaforo"},{label:"FINANZAS",field:"estatus_semaforo"},{label:"TRÁMITE DE PAGO",field:"estatus_semaforo"},{label:"PAGO",field:"estatus_semaforo"}],r=p([]),t=p([]);let s=!1,m=p(!1);const c=async()=>{const{data:e}=await g();r.value=e},d=[{label:"Detalles",action:async e=>{m.value=!m.value;const{data:a}=await v(e.id_estimacion);a.fecha_recepcion_info_contratista=a.fecha_recepcion_info_contratista.split(" ")[0],a.fecha_periodo_inicio_estimacion=a.fecha_periodo_inicio_estimacion.split(" ")[0],a.fecha_periodo_fin_estimacion=a.fecha_periodo_fin_estimacion.split(" ")[0],t.value=a,console.log("data: ",a),console.log("detalleEstimacionData: ",t)}},{label:"Nuevo",action:e=>n.push({name:"NewResidentEstimateById",params:{residentEstimateId:e.contrato_estimacion}})},{label:"Archivo",action:async e=>{n.push({name:"FilesResidentEstimate",params:{residentEstimateId:e.id_estimacion}})}},{label:"Histórico",action:async e=>{n.push({name:"HistoricoResidentEstimate",params:{residentEstimateId:e.id_estimacion}})}}],_=()=>n.push({name:"NewResidentEstimate"}),f=async()=>{if(s=!s,s===!0){const{data:e}=await w(9);r.value=e}s===!1&&c()};return c(),{residentEstimate:r,featureOptions:d,headers:l,goToNewResidentEstimate:_,getResidentEstimate:c,processo:f,procesoVariable:s,detalleEstimacionData:t,detalleEstimacion:m}}},O={class:"px-4 mt-10"},j={class:"flex justify-between"},H={class:"px-4"},V={class:"flex justify-end"};function P(n,l,r,t,s,m){const c=o("arrow-back"),d=o("home-page"),_=o("title-bar"),f=o("detail-estimate"),e=o("button-base"),a=o("toggle-switch"),u=o("tablero-estimacion-residente");return y(),C("main",O,[b("div",j,[i(c),i(d)]),i(_,{title:"Estimación Residente",subtitle:"Inicio"}),b("section",H,[b("div",V,[i(f,{data:t.detalleEstimacionData,isOpen:t.detalleEstimacion,onSubmit:l[0]||(l[0]=S=>t.detalleEstimacion=!1)},null,8,["data","isOpen"]),i(e,{label:"Nueva Estimación Residente",onClick:t.goToNewResidentEstimate,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),i(a,{label:"En Proceso",onChange:t.processo,class:"mb-3 mr-0 ml-10"},null,8,["onChange"])]),i(u,{options:t.featureOptions,headers:t.headers,data:t.residentEstimate},null,8,["options","headers","data"])])])}const X=N(k,[["render",P]]);export{X as default};
