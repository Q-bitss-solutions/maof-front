import{_ as v,u as x,o as t,c as s,b as r,F as p,d as g,n as h,t as u,f as d,p as E,m as C,r as R,a as k,g as y}from"./index-6b6e47c4.js";import{f as A}from"./assingResident-2f16299a.js";import{_ as w}from"./PDF-a4bdfbbc.js";import{T as I}from"./TableBase-7095b01e.js";import{f as T}from"./residentEstimate-90f0c25e.js";import{A as S,T as N}from"./TitleBar-9ddf3f8e.js";import{B as $}from"./ButtonBase-e9b6588b.js";import"./sweetalert2.all-281a79b7.js";const B={name:"TableBase",props:{headers:{type:Array,default:()=>[{label:"Example Header",field:"example"}]},data:{type:Array,default:()=>[{example:"value 1"}]},options:{type:Array,default:()=>[{label:"example",action:l=>console.log(l)}]}},setup(){const l=x();return{dots:[1,2,3],openActions:o=>{document.getElementById(o).classList.toggle("hidden")},detalleContrato:o=>{console.log("Se muestran los detalles del contrato: ",o)},semaforo:o=>{console.log("Se muestran el item: ",o),l.push({name:"EditResidentEstimate",params:{residentEstimateId:o.id_estimacion}})},downloadFile:async o=>{const{data:n}=await A();let e=[];n.forEach(c=>{o.contrato_padre===null&&o.contrato_estimacion===c.id_contrato&&(e=c),o.contrato_padre!==null&&o.contrato_padre===c.id_contrato&&(e=c)}),console.log("Item a descargar: ",o),console.log("data: ",n),console.log("result: ",e)}}}},F={class:"border border-solid border-t-0 border-l-0 border-black border-collapse text-gray-900 w-full"},O={key:0},P=["onClick"],D=["onClick"],V=["onClick"],j=["onClick"],z={key:5},G=["onClick"],M=["onClick"],H=["onClick"],L=["onClick"],Z=["onClick"],q={class:"flex justify-center"},J=["onClick"],K=["id","onMouseleave"],Q={class:"flex flex-col"},U=["onClick"];function W(l,b,i,a,f,m){return t(),s("table",F,[r("tr",null,[(t(!0),s(p,null,g(i.headers,(o,n)=>(t(),s("th",{key:n,class:h(["border-b-2 border-l-0 px-2",{"border-r-2":o.label===" "}])},u(o.label),3))),128))]),(t(!0),s(p,null,g(i.data,(o,n)=>(t(),s("tr",{id:"rows",class:h(["mx-6",{" bg-gray-100":n%2===0}]),key:n},[(t(!0),s(p,null,g(i.headers,(e,c)=>(t(),s("td",{key:c,class:h(["text-center",{"border-r-2 text-center":e.field==="documents","border-l":c==0}])},[e.label==="#"?(t(),s("p",O,u(n),1)):d("",!0),e.field==="documents"?(t(),s("img",{key:1,src:w,onClick:_=>a.downloadFile(o),class:"cursor-pointer"},null,8,P)):d("",!0),e.field==="numero_contrato"&&o.contrato_padre===null?(t(),s("p",{key:2,class:"text-blue cursor-pointer contratos",onClick:_=>a.detalleContrato(o)},u(o[e.field]),9,D)):d("",!0),e.field==="numero_contrato"&&o.contrato_padre!==null?(t(),s("p",{key:3,class:"text-blue cursor-pointer contratos",onClick:_=>a.detalleContrato(o)},u(o.numero_contrato_padre),9,V)):d("",!0),e.field==="numero_contrato_padre"&&o.contrato_padre!==null?(t(),s("p",{key:4,class:"text-blue cursor-pointer contratos",onClick:_=>a.detalleContrato(o)},u(o.numero_contrato),9,j)):d("",!0),e.field!=="numero_contrato_padre"&&e.field!=="numero_contrato"&&e.field!=="estatus_semaforo"?(t(),s("p",z,u(o[e.field]),1)):d("",!0),e.label==="RESIDENTE"&&e.field==="estatus_semaforo"&&o[e.field]==="Residente"?(t(),s("button",{key:6,class:"bg-red rounded-full text-red",onClick:_=>a.semaforo(o)}," abcd",8,G)):d("",!0),e.label==="ÁREA REVISORA"&&e.field==="estatus_semaforo"&&o[e.field]==="Area Revisora"?(t(),s("button",{key:7,class:"bg-red rounded-full text-red",onClick:_=>a.semaforo(o)}," abcd",8,M)):d("",!0),e.label==="FINANZAS"&&e.field==="estatus_semaforo"&&o[e.field]==="Finanzas"?(t(),s("button",{key:8,class:"bg-red rounded-full text-red",onClick:_=>a.semaforo(o)}," abcd",8,H)):d("",!0),e.label==="TRÁMITE DE PAGO"&&e.field==="estatus_semaforo"&&o[e.field]==="DGPOP"?(t(),s("button",{key:9,class:"bg-red rounded-full text-red",onClick:_=>a.semaforo(o)}," abcd",8,L)):d("",!0),e.label==="PAGO"&&e.field==="estatus_semaforo"&&o[e.field]==="Pago Efectuado"?(t(),s("button",{key:10,class:"bg-green rounded-full text-green",onClick:_=>a.semaforo(o)}," abcd",8,Z)):d("",!0)],2))),128)),i.options.length?(t(),s("td",{key:0,class:h(["p-2 relative",{" border-l-2 border-gray-100":n%2!==0}])},[r("div",q,[r("div",{class:"p-1 cursor-pointer",onClick:e=>a.openActions(`table-actions-${n}`)},[(t(!0),s(p,null,g(a.dots,(e,c)=>(t(),s("span",{key:c,class:"rounded-full h-1 w-1 block bg-blue mb-1"}))),128))],8,J)]),r("div",{class:"hidden absolute right-4 top-8 bg-white z-10",style:{"box-shadow":"-3px 3px 6px #00000029"},id:`table-actions-${n}`,onMouseleave:e=>a.openActions(`table-actions-${n}`)},[r("div",Q,[(t(!0),s(p,null,g(i.options,(e,c)=>(t(),s("div",{key:c,class:"h-8 flex justify-center items-center py-2 px-8"},[r("p",{class:"text-xs border-b border-solid border-gray-100 cursor-pointer hover:border-gray hover:font-medium",onClick:_=>e.action(o)},u(e.label),9,U)]))),128))])],40,K)],2)):d("",!0)],2))),128))])}const X=v(B,[["render",W]]);const Y={name:"ToggleSwitch",props:{label:{type:String,default:""}}},ee=l=>(E("data-v-c78a01f0"),l=l(),C(),l),oe={class:"panel panel-default"},te={class:"panel-heading"},se={class:"panel-title"},ae=ee(()=>r("div",{class:"panel-body"},[r("label",{class:"switch"},[r("input",{type:"checkbox"}),r("div",{class:"slider round"})])],-1));function ne(l,b,i,a,f,m){return t(),s("div",oe,[r("div",te,[r("h3",se,u(i.label),1)]),ae])}const le=v(Y,[["render",ne],["__scopeId","data-v-c78a01f0"]]),re={name:"ResidentEstimateIndex",components:{TableroEstimacionResidente:X,ArrowBack:S,ButtonBase:$,TitleBar:N,TableBase:I,ToggleSwitch:le},setup(){const l=x(),b=[{label:"#",field:""},{label:"Contrato o Convenio de Colaboración",field:"numero_contrato"},{label:"Convenio Modificatorio",field:"numero_contrato_padre"},{label:" ",field:"documents"},{label:"# Estimación",field:"num_consecutivo_estimacion"},{label:"Inicio",field:"fecha_periodo_inicio_estimacion"},{label:"Fin",field:"fecha_periodo_fin_estimacion"},{label:"Alta",field:""},{label:"Fecha de autorización",field:"fecha_autorizacion_contratista"},{label:"Días transcurridos",field:"dias_transcurridos"},{label:"RESIDENTE",field:"estatus_semaforo"},{label:"ÁREA REVISORA",field:"estatus_semaforo"},{label:"FINANZAS",field:"estatus_semaforo"},{label:"TRÁMITE DE PAGO",field:"estatus_semaforo"},{label:"PAGO",field:"estatus_semaforo"}],i=R([]);let a=!1;const f=async()=>{const{data:e}=await T();console.log(e),i.value=e},m=[{label:"Nuevo",action:e=>l.push({name:"NewResidentEstimateById",params:{residentEstimateId:e.contrato_estimacion}})},{label:"Archivo",action:async e=>{l.push({name:"FilesResidentEstimate",params:{residentEstimateId:e.id_estimacion}})}}],o=()=>l.push({name:"NewResidentEstimate"}),n=async()=>{a=!a,console.log(a)};return f(),{residentEstimate:i,featureOptions:m,headers:b,goToNewResidentEstimate:o,getResidentEstimate:f,processo:n}}},ce={class:"px-4 mt-10"},ie={class:"px-4"},de={class:"flex justify-end"};function _e(l,b,i,a,f,m){const o=k("arrow-back"),n=k("title-bar"),e=k("button-base"),c=k("toggle-switch"),_=k("tablero-estimacion-residente");return t(),s("main",ce,[y(o),y(n,{title:"Estimación Residente",subtitle:"Inicio"}),r("section",ie,[r("div",de,[y(e,{label:"Nueva Estimación Residente",onClick:a.goToNewResidentEstimate,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),y(c,{label:"En Proceso",onChange:a.processo,class:"mb-3 mr-0 ml-10"},null,8,["onChange"])]),y(_,{options:a.featureOptions,headers:a.headers,data:a.residentEstimate},null,8,["options","headers","data"])])])}const he=v(re,[["render",_e]]);export{he as default};
