import{T as w}from"./TableUsers-312c0504.js";import{A as V}from"./ArrowBack-c4d4dfff.js";import{H as q}from"./HomePage-bfe19cc4.js";import{S as C}from"./SelectBase-2ae14bdf.js";import{B as F}from"./ButtonBase-51a1f46b.js";import{_ as k,k as S,a as d,o as m,c as j,g as s,b as o,u as E,r as g,e as y,f as x,i as D,t as B}from"./index-33280006.js";import{T as A}from"./fetchApi-c9a63741.js";import{I}from"./InputBase-be73efb9.js";import"./sweetalert2.all-281a79b7.js";import{b as M}from"./project-4f7b4488.js";import{f as T}from"./contract-b769c2eb.js";const P={name:"FormProject",props:{editMode:{type:Boolean,default:!1},project:{type:Object,default:()=>({})}},components:{InputBase:I,ButtonBase:F,SelectBase:C},setup(c,{emit:e}){const a=S({project:{clave_cartera:"",nombre_proyecto:"",monto_total_inversion:"",fecha_inicio_proyecto:"",fecha_fin_proyecto:""}});return c.editMode&&(a.project=c.project,console.log(c.project),a.project.fecha_inicio_proyecto=c.project.fecha_inicio_proyecto.split("-").reverse().join("-"),a.project.fecha_fin_proyecto===null?a.project.fecha_fin_proyecto="":a.project.fecha_fin_proyecto=c.project.fecha_fin_proyecto.split("-").reverse().join("-")),{app:a,sendForm:()=>e("submit",a.project)}}},N={class:"max-w-xl pb-10"},O={class:"flex justify-center items-center align-baseline"},U={class:"flex items-center align-baseline"};function R(c,e,a,t,b,v){const r=d("select-base"),n=d("input-base"),f=d("button-base");return m(),j("div",N,[s(r,{id:"clave_cartera",label:"C, CC, CM*",class:"mb-3"}),s(r,{id:"nombre_proyecto",label:"Residente",class:"mb-3"}),s(r,{id:"nombre_proyecto",label:"Mes de la estimación",class:"mb-3"}),s(r,{id:"nombre_proyecto",label:"Año de la Estimación",class:"mb-3"}),s(r,{id:"nombre_proyecto",label:"Estatus de la Estimación",class:"mb-3"}),s(r,{id:"nombre_proyecto",label:"Unidad MAOF responsable",class:"mb-3"}),o("div",O,[s(n,{id:"dias_inicio",label:"Días transcurridos entre",type:"number",class:"mr-5"}),s(n,{id:"dias_fin",label:"al",type:"number",class:""})]),o("div",U,[s(n,{id:"fecha_inicio",label:"Autorizacion entre",type:"date",class:"mr-5"}),s(n,{id:"fecha_fin",label:"y",type:"date",class:""})]),s(f,{label:"Buscar",onClick:t.sendForm,class:"mr-0 ml-auto mt-5"},null,8,["onClick"])])}const H=k(P,[["render",R]]),z="/maof-front/assets/Filter-fb6d2bbc.png",G="/maof-front/assets/Search-94489079.png";const J={name:"UsersRolesMAOFIndex",components:{TableBase:w,ArrowBack:V,HomePage:q,ButtonBase:F,TitleBar:A,SelectBase:C,FormConsultaBusqueda:H},setup(){E();const c=[{label:"Id",field:"empleado_maof"}],e=g({filtro:{tipoDocumento:"",listFiltros:[{value:1,label:"Proyecto / Cartera de inversión"},{value:2,label:"Contrato o Convenio de Colaboración"},{value:3,label:"Convenio Modificatorio"},{value:4,label:"Esperando una acción"}],listDocsFiltrados:[],filtroDocValue:""}});let a=g(!1);const t=[],b=()=>{console.log("Se muestra el resultado ")},v=async i=>{switch(a.value===!0&&(a.value=!1),i){case"1":e.value.filtro.listDocsFiltrados=[],r();break;case"2":e.value.filtro.listDocsFiltrados=[],n(i);break;case"3":e.value.filtro.listDocsFiltrados=[],n(i);break;case"4":e.value.filtro.listDocsFiltrados=[];break;default:console.log("No se encontro nada");break}},r=async()=>{const{data:i}=await M();e.value.filtro.listDocsFiltrados=i.map(u=>({value:u.id_proyecto,label:`${u.clave_cartera}-${u.nombre_proyecto}`}))},n=async i=>{const{data:u}=await T();i==="2"&&u.forEach(l=>{l.id_tipo_contrato!==3&&(e.value.filtro.listDocsFiltrados.push({value:l.id_contrato,label:l.numero_contrato}),e.value.filtro.listDocsFiltrados.sort((_,p)=>_.label>p.label?1:_.label<p.label?-1:0))}),i==="3"&&u.forEach(l=>{l.id_tipo_contrato===3&&(e.value.filtro.listDocsFiltrados.push({value:l.id_contrato,label:l.numero_contrato}),e.value.filtro.listDocsFiltrados.sort((_,p)=>_.label>p.label?1:_.label<p.label?-1:0))})};return{app:e,featureOptions:t,headers:c,showBusquedaValue:a,getStatusEstimations:b,showBusqueda:()=>{e.value.filtro.tipoDocumento="",e.value.filtro.filtroDocValue="",a.value=!a.value,console.log("Se muestra el la busqueda  ")},saveBusqueda:async i=>{console.log("Criterios de busqueda: ",i)},getDocsByType:v,getProjects:r,getContracts:n}}},K={class:"px-4 mt-10"},L={class:"flex justify-between"},Q={class:"px-4"},W={class:"flex justify-center"},X=o("p",{class:"text-center"},"4",-1),Y=o("h1",{class:"text-center"},"Pendientes",-1),Z=[X,Y],$=o("p",{class:"text-center"},"2",-1),ee=o("h1",{class:"text-center"},"Pagadas",-1),te=[$,ee],oe=o("p",{class:"text-center"},"6",-1),se=o("h1",{class:"text-center"},"Total",-1),ae=[oe,se],le={class:"flex flex-col mt-20"},ie={class:"flex justify-start items-center pb-10"},re=o("img",{src:z,alt:"filter",class:"w-10 items-center"},null,-1),ne=o("br",null,null,-1),ce={class:"flex justify-start items-center pt-10"},de=o("img",{src:G,alt:"filter",class:"w-10 items-center"},null,-1),ue=o("h1",{class:"text-center font-bold text-lg"},"Busqueda",-1);function _e(c,e,a,t,b,v){const r=d("arrow-back"),n=d("home-page"),f=d("title-bar"),h=d("select-base"),i=d("button-base"),u=d("form-consulta-busqueda");return m(),j("main",K,[o("div",L,[s(r),s(n)]),s(f,{title:"Consulta MAOF",subtitle:"Inicio"}),o("section",Q,[o("div",W,[o("div",{class:"px-10 text-green cursor-pointer",onClick:e[0]||(e[0]=l=>t.getStatusEstimations())},Z),o("div",{class:"px-10 text-red cursor-pointer",onClick:e[1]||(e[1]=l=>t.getStatusEstimations())},te),o("div",{class:"px-10 cursor-pointer",onClick:e[2]||(e[2]=l=>t.getStatusEstimations())},ae)]),o("div",le,[o("div",ie,[re,s(h,{label:"Filtros",class:"text-center w-48",id:"filtros",options:t.app.filtro.listFiltros,modelValue:t.app.filtro.tipoDocumento,"onUpdate:modelValue":e[3]||(e[3]=l=>t.app.filtro.tipoDocumento=l),onChange:e[4]||(e[4]=l=>t.getDocsByType(t.app.filtro.tipoDocumento))},null,8,["options","modelValue"]),t.app.filtro.listDocsFiltrados!=""&&t.app.filtro.tipoDocumento!==""?(m(),y(h,{key:0,label:"",class:"text-center w-48 ml-28",id:"filtrosDocs",options:t.app.filtro.listDocsFiltrados,modelValue:t.app.filtro.filtroDocValue,"onUpdate:modelValue":e[5]||(e[5]=l=>t.app.filtro.filtroDocValue=l)},null,8,["options","modelValue"])):x("",!0),t.app.filtro.tipoDocumento==="4"?(m(),y(i,{key:1,label:"Aplicar",class:"ml-48 border-gray text-black hover:bg-white hover:text-red"})):x("",!0)]),D(" Id tipoDocumento "+B(t.app.filtro.tipoDocumento)+" ",1),ne,D(" id filtroDocValue "+B(t.app.filtro.filtroDocValue)+" ",1),o("div",ce,[de,ue,s(i,{label:"Criterio de búsqueda",class:"ml-5 border-gray text-black hover:bg-white hover:text-red",onClick:t.showBusqueda},null,8,["onClick"])])])]),t.showBusquedaValue?(m(),y(u,{key:0,onSubmit:t.saveBusqueda,class:"mt-20 w-full"},null,8,["onSubmit"])):x("",!0)])}const Ce=k(J,[["render",_e]]);export{Ce as default};
