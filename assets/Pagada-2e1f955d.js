import{T as g,D as v}from"./DetailEstimate-83943d32.js";import{T as A}from"./TitleBar-39daad40.js";import{B as C}from"./fetchApi-c943dcd0.js";import{_ as N,s as B,a as _,u as I,f as l,g as p,l as y,v as f,q as E,j as h,x as R}from"./index-5cc367f2.js";import{a as D}from"./residentEstimate-f5c143e1.js";import{c as T}from"./consultas-dae37a0d.js";import{C as O}from"./CustomHeaderApp-8d94f481.js";import"./contract-0b747e5e.js";import"./PDF-a4bdfbbc.js";import"./ArrowBack-8ac6e4dd.js";import"./HomePage-555195f2.js";import"./LogoutComponent-f4751eee.js";const k={name:"ConsultasPagadosMAOF",components:{TableroEstimacionResidente:g,ButtonBase:C,TitleBar:A,DetailEstimate:v,CustomHeaderApp:O},setup(){const u=B(),{rol:o}=u.getAuthData,i=_({pagados:{},loading:!0}),e=[{label:"#",field:""},{label:"Contrato o Convenio de Colaboración",field:"numero_contrato"},{label:"Convenio Modificatorio",field:"numero_contrato_padre"},{label:" ",field:"documents"},{label:"# Estimación",field:"num_consecutivo_estimacion"},{label:"Inicio",field:"fecha_periodo_inicio_estimacion"},{label:"Fin",field:"fecha_periodo_fin_estimacion"},{label:"Alta",field:"fecha_alta"},{label:"Fecha de autorización",field:"fecha_autorizacion_contratista"},{label:"Días transcurridos",field:"dias_transcurridos"},{label:"RESIDENTE",field:"estatus_semaforo"},{label:"ÁREA REVISORA",field:"estatus_semaforo"},{label:"FINANZAS",field:"estatus_semaforo"},{label:"TRÁMITE DE PAGO",field:"estatus_semaforo"},{label:"PAGO",field:"estatus_semaforo"}],b=[{label:"Detalles",action:async a=>{n.value=!n.value;const{data:t}=await D(a.id_estimacion);t.fecha_recepcion_info_contratista=t.fecha_recepcion_info_contratista.split(" ")[0],t.fecha_periodo_inicio_estimacion=t.fecha_periodo_inicio_estimacion.split(" ")[0],t.fecha_periodo_fin_estimacion=t.fecha_periodo_fin_estimacion.split(" ")[0],c.value=t}},{label:"Nuevo",disabled:o!="Residente",action:a=>s.push({name:"NewResidentEstimateById",params:{residentEstimateId:a.contrato_estimacion}})},{label:"Archivo",action:async a=>{s.push({name:"FilesResidentEstimate",params:{residentEstimateId:a.id_estimacion}})}},{label:"Histórico",action:async a=>{s.push({name:"HistoricoResidentEstimate",params:{residentEstimateId:a.id_estimacion}})}}],s=I(),d=T(),c=_([]);let n=_(!1);const m=()=>s.push({name:"NewResidentEstimate"}),r=()=>{i.value.loading=!0,i.value.pagados=d.filtros.pagados,i.value.loading=!1};return r(),{app:i,headers:e,featureOptions:b,detalleEstimacionData:c,detalleEstimacion:n,rol:o,goToNewResidentEstimate:m,getQuery:r}}},x={class:"px-4 mt-10"},w={class:"px-4"},F={class:"flex justify-end"};function H(u,o,i,e,b,s){const d=l("CustomHeaderApp"),c=l("title-bar"),n=l("detail-estimate"),m=l("button-base"),r=l("tablero-estimacion-residente");return p(),y("main",x,[f(d),f(c,{title:"Estimación Residente",subtitle:"Pagadas"}),E("section",w,[E("div",F,[f(n,{data:e.detalleEstimacionData,isOpen:e.detalleEstimacion,onSubmit:o[0]||(o[0]=a=>e.detalleEstimacion=!1)},null,8,["data","isOpen"]),e.rol=="Residente"?(p(),h(m,{key:0,label:"Nueva Estimación Residente",onClick:e.goToNewResidentEstimate,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"])):R("",!0)]),e.app.loading?R("",!0):(p(),h(r,{key:0,options:e.featureOptions,headers:e.headers,data:e.app.pagados},null,8,["options","headers","data"]))])])}const L=N(k,[["render",H]]);export{L as default};
