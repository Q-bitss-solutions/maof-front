import{F as A}from"./FormAmendingAgreement-4dde2180.js";import{A as h}from"./ArrowBack-118203f2.js";import{T as b}from"./TitleBar-634d05d1.js";import{a as v,u as x}from"./contract-978b80e6.js";import{_ as y,a as k,q as B,u as w,m as C,b as r,o as f,c as E,d as s,e as m,t as S,g as $,h as j}from"./index-aacd3d9f.js";import{S as d}from"./sweetalert2.all-281a79b7.js";import{L as I}from"./LogoutComponent-1aef6940.js";import{H as N}from"./HomePage-bcf53f11.js";import"./InputBase-35917134.js";import"./TextAreaBase-e29c2375.js";import"./fetchApi-cf1b52b8.js";import"./SelectBase-ea9bd5d6.js";import"./reviewArea-940df0ee.js";import"./contractor-173bf623.js";import"./project-4ddb390d.js";const V={name:"EditAmendingAgreement",components:{FormAmendingAgreement:A,ArrowBack:h,TitleBar:b,HomePage:N,LogoutComponent:I},setup(){const p=k(),{rol:g}=p.getAuthData,l=B(),e=w(),t=C({amendingAgreement:{},loading:!0}),_=async()=>{t.loading=!0;const{data:o}=await v(l.params.amendingAgreementId);t.amendingAgreement=o,t.loading=!1},i=async o=>{try{await x(o),d.fire("¡Éxito!","Convenio modificatorio actualizado con éxito!","success"),e.push({name:"AmendingAgreement"})}catch(n){if(n.response.data.detail)d.fire("Error",`${n.response.data.detail}`,"error");else{let a=[];for(const[c,u]of Object.entries(n.response.data))a.push(`
${c} - ${u}
`);d.fire("Error",`${a}`,"error")}}};return _(),{app:t,rol:g,saveAmendingAgreement:i}}},D={class:"px-4 mt-10"},F={class:"flex justify-between"},H={class:"flex justify-center items-center"},L={class:"text-black font-semibold mr-4 items-center content-center"},R={class:"px-4"};function T(p,g,l,e,t,_){const i=r("arrow-back"),o=r("home-page"),n=r("logout-component"),a=r("title-bar"),c=r("form-amending-agreement");return f(),E("main",D,[s("div",F,[m(i),s("div",H,[s("p",L,S(e.rol),1),m(o),m(n)])]),m(a,{title:"Convenio Modificatorio",subtitle:"Editar"}),s("section",R,[e.app.loading?j("",!0):(f(),$(c,{key:0,onSubmit:e.saveAmendingAgreement,amendingAgreement:e.app.amendingAgreement,"edit-mode":""},null,8,["onSubmit","amendingAgreement"]))])])}const te=y(V,[["render",T]]);export{te as default};
