import{T as _}from"./TableBase-7cffe17b.js";import{f as u,d as f}from"./project-58651c53.js";import{B as b}from"./fetchApi-ea3a2dff.js";import{_ as y,u as h,r as v,b as a,o as B,c as C,e as r,d as j}from"./index-ae47c3ce.js";import{T as P}from"./TitleBar-95cae43a.js";import{S as l}from"./sweetalert2.all-281a79b7.js";import{C as w}from"./CustomHeaderApp-790e617d.js";import"./ArrowBack-858e36ad.js";import"./HomePage-790bb899.js";import"./LogoutComponent-26312cbb.js";const x={name:"ProjectIndex",components:{TableBase:_,ButtonBase:b,TitleBar:P,CustomHeaderApp:w},setup(){const t=h(),p=[{label:"Clave cartera",field:"clave_cartera"},{label:"Nombre proyecto",field:"nombre_proyecto"},{label:"Monto total inversi칩n",field:"monto_total_inversion"},{label:"Estatus proyecto",field:"estatus_proyecto"},{label:"Fecha inicio",field:"fecha_inicio_proyecto"},{label:"Fecha fin",field:"fecha_fin_proyecto"}],s=v([]),o=async()=>{const{data:e}=await u();s.value=e},m=[{label:"Editar",action:e=>t.push({name:"EditProject",params:{projectId:e.id_proyecto}})},{label:"Inactivar",action:async e=>{l.fire({title:`Est치s seguro que deseas inactivar el proyecto "${e.nombre_proyecto}"?`,text:"Esto inactivar치 el proyecto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Inactivar!",reverseButtons:!0}).then(async n=>{if(n.isConfirmed)try{await f(e.id_proyecto),await o(),l.fire("Inactivado!","El proyecto se inactiv칩","success")}catch(i){l.fire("Error",`${i.response.data.detail}`,"error")}})}}],d=()=>t.push({name:"NewProject"}),c=()=>t.push({name:"Home"});return o(),{projects:s,featureOptions:m,headers:p,goToNewProject:d,goToHome:c}}},E={class:"px-4 mt-10"},T={class:"px-4"};function I(t,p,s,o,m,d){const c=a("CustomHeaderApp"),e=a("title-bar"),n=a("button-base"),i=a("table-base");return B(),C("main",E,[r(c),r(e,{title:"Proyectos",subtitle:"Inicio"}),j("section",T,[r(n,{label:"Nuevo proyecto",onClick:o.goToNewProject,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),r(i,{description:"Proyectos",options:o.featureOptions,headers:o.headers,data:o.projects},null,8,["options","headers","data"])])])}const q=y(x,[["render",I]]);export{q as default};
