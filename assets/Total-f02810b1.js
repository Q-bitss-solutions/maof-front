import{T as E,D as g}from"./DetailEstimate-34ae78e7.js";import{A as v}from"./ArrowBack-88dce955.js";import{T as R}from"./fetchApi-9e5fb38d.js";import{H as T}from"./HomePage-0a8320d9.js";import{B as w}from"./ButtonBase-1debdcdc.js";import{T as N}from"./ToggleSwtich-978f4215.js";import{_ as B,r as p,u as C,a as s,o as h,c as y,b as u,g as n,e as A,f as I}from"./index-86ce7909.js";import"./sweetalert2.all-281a79b7.js";import{a as k}from"./residentEstimate-934bec14.js";import{c as D}from"./consultas-dd0b2ae3.js";import"./contract-0fb2f473.js";import"./PDF-a4bdfbbc.js";const x={name:"ConsultaPendientes",components:{TableroEstimacionResidente:E,ArrowBack:v,HomePage:T,ButtonBase:w,TitleBar:R,DetailEstimate:g,ToggleSwitch:N},setup(){const o=p({total:{},loading:!0}),c=[{label:"#",field:""},{label:"Contrato o Convenio de Colaboración",field:"numero_contrato"},{label:"Convenio Modificatorio",field:"numero_contrato_padre"},{label:" ",field:"documents"},{label:"# Estimación",field:"num_consecutivo_estimacion"},{label:"Inicio",field:"fecha_periodo_inicio_estimacion"},{label:"Fin",field:"fecha_periodo_fin_estimacion"},{label:"Alta",field:"fecha_alta"},{label:"Fecha de autorización",field:"fecha_autorizacion_contratista"},{label:"Días transcurridos",field:"dias_transcurridos"},{label:"RESIDENTE",field:"estatus_semaforo"},{label:"ÁREA REVISORA",field:"estatus_semaforo"},{label:"FINANZAS",field:"estatus_semaforo"},{label:"TRÁMITE DE PAGO",field:"estatus_semaforo"},{label:"PAGO",field:"estatus_semaforo"}],b=[{label:"Detalles",action:async t=>{l.value=!l.value,console.log(t);const{data:a}=await k(t.id_estimacion);a.fecha_recepcion_info_contratista=a.fecha_recepcion_info_contratista.split(" ")[0],a.fecha_periodo_inicio_estimacion=a.fecha_periodo_inicio_estimacion.split(" ")[0],a.fecha_periodo_fin_estimacion=a.fecha_periodo_fin_estimacion.split(" ")[0],m.value=a,console.log("data: ",a),console.log("detalleEstimacionData: ",m)}},{label:"Nuevo",action:t=>e.push({name:"NewResidentEstimateById",params:{residentEstimateId:t.contrato_estimacion}})},{label:"Archivo",action:async t=>{e.push({name:"FilesResidentEstimate",params:{residentEstimateId:t.id_estimacion}})}},{label:"Histórico",action:async t=>{e.push({name:"HistoricoResidentEstimate",params:{residentEstimateId:t.id_estimacion}})}}],e=C(),r=D(),m=p([]);let l=p(!1),i=!1;const _=async()=>{i=!i,i===!0&&(o.value.total=r.filtros.pendientes),i===!1&&(o.value.total=r.filtros.total)},f=()=>e.push({name:"NewResidentEstimate"}),d=()=>{o.value.loading=!0,o.value.total=r.filtros.total,o.value.loading=!1};return d(),{app:o,procesoVariable:i,headers:c,featureOptions:b,detalleEstimacionData:m,detalleEstimacion:l,goToNewResidentEstimate:f,getQuery:d,processo:_}}},O={class:"px-4 mt-10"},P={class:"flex justify-between"},S={class:"px-4"},V={class:"flex justify-end"};function F(o,c,b,e,r,m){const l=s("arrow-back"),i=s("home-page"),_=s("title-bar"),f=s("detail-estimate"),d=s("button-base"),t=s("toggle-switch"),a=s("tablero-estimacion-residente");return h(),y("main",O,[u("div",P,[n(l),n(i)]),n(_,{title:"Estimación Residente",subtitle:"Totales"}),u("section",S,[u("div",V,[n(f,{data:e.detalleEstimacionData,isOpen:e.detalleEstimacion,onSubmit:c[0]||(c[0]=H=>e.detalleEstimacion=!1)},null,8,["data","isOpen"]),n(d,{label:"Nueva Estimación Residente",onClick:e.goToNewResidentEstimate,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),n(t,{label:"En Proceso",onChange:e.processo,class:"mb-3 mr-0 ml-10"},null,8,["onChange"])]),e.app.loading?I("",!0):(h(),A(a,{key:0,options:e.featureOptions,headers:e.headers,data:e.app.total},null,8,["options","headers","data"]))])])}const X=B(x,[["render",F]]);export{X as default};
