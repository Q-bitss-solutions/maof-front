import{T as C}from"./TableBase-56b3b9a9.js";import{f as w,d as x,a as y}from"./contract-ae5537b4.js";import{A as B}from"./ArrowBack-0d319b8d.js";import{H as D}from"./HomePage-c4619b32.js";import{L as I}from"./LogoutComponent-12869c17.js";import{B as k}from"./fetchApi-e1006db9.js";import{_ as E,a as N,r as u,u as T,b as i,o as b,c as A,d as e,e as a,t as n,g as j,h as z,T as M}from"./index-219e2d0f.js";import{T as O}from"./TitleBar-d9022a58.js";import{S as h}from"./sweetalert2.all-281a79b7.js";const S={name:"AmendingAgreementIndex",components:{TableBase:C,ArrowBack:B,HomePage:D,ButtonBase:k,TitleBar:O,LogoutComponent:I},setup(){const p=N(),{rol:c}=p.getAuthData,_=u(!1),o=T(),v=[{label:"Id",field:"id_contrato"},{label:"Contrato o Convenio de Colaboración",field:"clave_cartera"},{label:"Número",field:"numero_contrato"},{label:"Objeto",field:"objeto_contrato"},{label:"Monto sin IVA",field:"monto_sin_iva"},{label:"Plazo de inicio",field:"plazo_inicio"},{label:"Plazo fin",field:"plazo_fin"},{label:"Estatus",field:"estatus_contrato"}],l=u([]),d=u([]),m=async()=>{const{data:s}=await w();s.forEach(t=>{t.id_tipo_contrato===3&&l.value.push(t)}),l.value.sort((t,r)=>t.label>r.label?1:t.label<r.label?-1:0)},f=[{label:"Editar",action:s=>o.push({name:"EditAmendingAgreement",params:{amendingAgreementId:s.id_contrato}})},{label:"Inactivar",action:async s=>{h.fire({title:"Se finalizará el Convenio Modificatorio...",text:"¿Está usted seguro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Finalizar!",reverseButtons:!0}).then(async t=>{if(t.isConfirmed)try{await x(s.id_contrato),l.value=[],await m(),h.fire("Inactivo!","El convenio modificatorio se inactivó","success")}catch(r){h.fire("Error",`${r.response.data.detail}`,"error")}})}},{label:"Detalles",action:async s=>{_.value=!0;const{data:t}=await y(s.id_contrato);d.value=t}}],g=()=>o.push({name:"NewAmendingAgreement"});return m(),{isOpen:_,amendingAgreement:l,amendingAgreementDetalles:d,featureOptions:f,headers:v,rol:c,goToNewAmendingAgreement:g}}},V={class:"px-4 mt-10"},F={class:"flex justify-between"},P={class:"flex justify-center items-center"},H={class:"text-black font-semibold mr-4 items-center content-center"},L={class:"px-4"},R={class:"root"},U={key:0,class:"modal items-center justify-center"},q=e("h1",{class:"text-center font-semibold pb-10 pt-5"},"Detalle del Contrato",-1),G={class:"grid grid-cols-2 ml-10"},J={class:"grid grid-rows-2"},K=e("h1",{class:"font-semibold"},"Clave Cartera de Inversión",-1),Q={class:"grid grid-rows-2"},W=e("h1",{class:"font-semibold"},"Nombre",-1),X={class:"grid grid-rows-2"},Y=e("h1",{class:"font-semibold"},"Número de Contrato",-1),Z={class:"grid grid-rows-2"},$=e("h1",{class:"font-semibold"},"Objeto del Contrato",-1),ee={class:"grid grid-cols-2"},oe=e("h1",{class:"font-semibold"},"Fecha inicio",-1),te=e("h1",{class:"font-semibold"},"fecha fin",-1),ne={class:"grid grid-rows-2"},se=e("h1",{class:"font-semibold"},"Unidad MAOF",-1),ae={class:"grid grid-cols-3 mt-10 ml-10"},ie=e("h1",{class:"font-semibold"},"Monto sin IVA",-1),le=e("h1",{class:"font-semibold"},"Estatus del Contrato",-1),re=e("h1",{class:"font-semibold"},"¿Existen Convenios Modificatorios?",-1);function ce(p,c,_,o,v,l){const d=i("arrow-back"),m=i("home-page"),f=i("logout-component"),g=i("title-bar"),s=i("button-base"),t=i("table-base");return b(),A("main",V,[e("div",F,[a(d),e("div",P,[e("p",H,n(o.rol),1),a(m),a(f)])]),a(g,{title:"Convenio Modificatorio",subtitle:"Inicio"}),e("section",L,[a(s,{label:"Nuevo Convenio Modificatorio",onClick:o.goToNewAmendingAgreement,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),a(t,{description:"Convenios Modificatorios",options:o.featureOptions,headers:o.headers,data:o.amendingAgreement},null,8,["options","headers","data"]),e("div",R,[(b(),j(M,{to:"body"},[o.isOpen?(b(),A("div",U,[e("div",null,[q,e("div",G,[e("div",J,[e("div",null,[K,e("p",null,n(o.amendingAgreementDetalles.numero_contrato),1)])]),e("div",Q,[e("div",null,[W,e("p",null,n(o.amendingAgreementDetalles.nombre_proyecto),1)])]),e("div",X,[e("div",null,[Y,e("p",null,n(o.amendingAgreementDetalles.numero_contrato),1)])]),e("div",Z,[e("div",null,[$,e("p",null,n(o.amendingAgreementDetalles.objeto_contrato),1)])]),e("div",ee,[e("div",null,[oe,e("p",null,n(o.amendingAgreementDetalles.plazo_inicio),1)]),e("div",null,[te,e("p",null,n(o.amendingAgreementDetalles.plazo_fin),1)])]),e("div",ne,[e("div",null,[se,e("p",null,n(o.amendingAgreementDetalles.nombre_unidad),1)])])]),e("div",ae,[e("div",null,[ie,e("p",null," $"+n(o.amendingAgreementDetalles.monto_sin_iva),1)]),e("div",null,[le,e("p",null,n(o.amendingAgreementDetalles.estatus_contrato),1)]),e("div",null,[re,e("p",null,n(o.amendingAgreementDetalles.objeto_contrato),1)])]),a(s,{label:"Cerrar",onClick:c[0]||(c[0]=r=>o.isOpen=!1),class:"mr-5 mx-auto my-5"})])])):z("",!0)]))])])])}const ve=E(S,[["render",ce]]);export{ve as default};
