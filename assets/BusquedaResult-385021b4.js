import{T as g,D as v}from"./DetailEstimate-314fbeaa.js";import{A as R}from"./ArrowBack-aeb0a8c5.js";import{T as B}from"./TitleBar-51378683.js";import{H as w}from"./HomePage-dde100b0.js";import{B as C}from"./fetchApi-96f6f319.js";import{T as N}from"./ToggleSwtich-ae8ac828.js";import{_ as A,r as f,u as T,b as s,o as h,c as y,d as m,e as n,g as I,h as k}from"./index-898df0c3.js";import"./sweetalert2.all-281a79b7.js";import{f as q}from"./residentEstimate-26eb9a60.js";import{c as D}from"./consultas-c19ecfee.js";import{L as O}from"./LogoutComponent-cb93b0aa.js";import"./contract-01a7f1fb.js";import"./PDF-a4bdfbbc.js";const x={name:"ConsultasBusquedaMAOF",components:{TableroEstimacionResidente:g,ArrowBack:R,HomePage:w,ButtonBase:C,TitleBar:B,DetailEstimate:v,ToggleSwitch:N,LogoutComponent:O},setup(){const t=f({busqueda:{},loading:!0}),r=[{label:"#",field:""},{label:"Contrato o Convenio de Colaboración",field:"numero_contrato"},{label:"Convenio Modificatorio",field:"numero_contrato_padre"},{label:" ",field:"documents"},{label:"# Estimación",field:"num_consecutivo_estimacion"},{label:"Inicio",field:"fecha_periodo_inicio_estimacion"},{label:"Fin",field:"fecha_periodo_fin_estimacion"},{label:"Alta",field:"fecha_alta"},{label:"Fecha de autorización",field:"fecha_autorizacion_contratista"},{label:"Días transcurridos",field:"dias_transcurridos"},{label:"RESIDENTE",field:"estatus_semaforo"},{label:"ÁREA REVISORA",field:"estatus_semaforo"},{label:"FINANZAS",field:"estatus_semaforo"},{label:"TRÁMITE DE PAGO",field:"estatus_semaforo"},{label:"PAGO",field:"estatus_semaforo"}],p=[{label:"Detalles",action:async a=>{l.value=!l.value;const{data:o}=await q(a.id_estimacion);o.fecha_recepcion_info_contratista=o.fecha_recepcion_info_contratista.split(" ")[0],o.fecha_periodo_inicio_estimacion=o.fecha_periodo_inicio_estimacion.split(" ")[0],o.fecha_periodo_fin_estimacion=o.fecha_periodo_fin_estimacion.split(" ")[0],d.value=o}},{label:"Nuevo",action:a=>e.push({name:"NewResidentEstimateById",params:{residentEstimateId:a.contrato_estimacion}})},{label:"Archivo",action:async a=>{e.push({name:"FilesResidentEstimate",params:{residentEstimateId:a.id_estimacion}})}},{label:"Histórico",action:async a=>{e.push({name:"HistoricoResidentEstimate",params:{residentEstimateId:a.id_estimacion}})}}],e=T(),b=D(),d=f([]);let l=f(!1),i=!1;const _=async()=>{i=!i,i===!0&&(t.value.loading=!0,t.value.busqueda=t.value.busqueda.filter(a=>a.estatus_semaforo!=="Pago Efectuado"),t.value.loading=!1),i===!1&&c()},u=()=>e.push({name:"NewResidentEstimate"}),c=()=>{t.value.loading=!0,t.value.busqueda=b.busqueda,t.value.loading=!1};return c(),{app:t,procesoVariable:i,headers:r,featureOptions:p,detalleEstimacionData:d,detalleEstimacion:l,goToNewResidentEstimate:u,getQuery:c,processo:_}}},F={class:"px-4 mt-10"},P={class:"flex justify-between"},S={class:"px-4"},V={class:"flex justify-end"};function H(t,r,p,e,b,d){const l=s("arrow-back"),i=s("home-page"),_=s("logout-component"),u=s("title-bar"),c=s("detail-estimate"),a=s("button-base"),o=s("toggle-switch"),E=s("tablero-estimacion-residente");return h(),y("main",F,[m("div",P,[n(l),m("div",null,[n(i),n(_)])]),n(u,{title:"Estimación Residente",subtitle:"BusquedaResult"}),m("section",S,[m("div",V,[n(c,{data:e.detalleEstimacionData,isOpen:e.detalleEstimacion,onSubmit:r[0]||(r[0]=M=>e.detalleEstimacion=!1)},null,8,["data","isOpen"]),n(a,{label:"Nueva Estimación Residente",onClick:e.goToNewResidentEstimate,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),n(o,{label:"En Proceso",onChange:e.processo,class:"mb-3 mr-0 ml-10"},null,8,["onChange"])]),e.app.loading?k("",!0):(h(),I(E,{key:0,options:e.featureOptions,headers:e.headers,data:e.app.busqueda},null,8,["options","headers","data"]))])])}const ee=A(x,[["render",H]]);export{ee as default};
