import{T as R,D as g}from"./DetailEstimate-91ef6497.js";import{A as N}from"./ArrowBack-fb68f225.js";import{T as A}from"./TitleBar-21e63048.js";import{H as B}from"./HomePage-c54e3170.js";import{B as k}from"./fetchApi-faae1d62.js";import{_ as y,a as C,r as _,u as I,b as i,o as f,c as w,d as m,e as l,g as h,h as E}from"./index-2524f0a8.js";import"./sweetalert2.all-281a79b7.js";import{f as D}from"./residentEstimate-d3099bd9.js";import{c as T}from"./consultas-71eda685.js";import{L as O}from"./LogoutComponent-58842070.js";import"./contract-53f9ed52.js";import"./PDF-a4bdfbbc.js";const x={name:"ConsultaPendientes",components:{TableroEstimacionResidente:R,ArrowBack:N,HomePage:B,ButtonBase:k,TitleBar:A,DetailEstimate:g,LogoutComponent:O},setup(){C().getAuthData;const o=_({pendiente:{},loading:!0}),u=[{label:"#",field:""},{label:"Contrato o Convenio de Colaboración",field:"numero_contrato"},{label:"Convenio Modificatorio",field:"numero_contrato_padre"},{label:" ",field:"documents"},{label:"# Estimación",field:"num_consecutivo_estimacion"},{label:"Inicio",field:"fecha_periodo_inicio_estimacion"},{label:"Fin",field:"fecha_periodo_fin_estimacion"},{label:"Alta",field:"fecha_alta"},{label:"Fecha de autorización",field:"fecha_autorizacion_contratista"},{label:"Días transcurridos",field:"dias_transcurridos"},{label:"RESIDENTE",field:"estatus_semaforo"},{label:"ÁREA REVISORA",field:"estatus_semaforo"},{label:"FINANZAS",field:"estatus_semaforo"},{label:"TRÁMITE DE PAGO",field:"estatus_semaforo"},{label:"PAGO",field:"estatus_semaforo"}],e=[{label:"Detalles",action:async t=>{n.value=!n.value;const{data:a}=await D(t.id_estimacion);a.fecha_recepcion_info_contratista=a.fecha_recepcion_info_contratista.split(" ")[0],a.fecha_periodo_inicio_estimacion=a.fecha_periodo_inicio_estimacion.split(" ")[0],a.fecha_periodo_fin_estimacion=a.fecha_periodo_fin_estimacion.split(" ")[0],c.value=a}},{label:"Nuevo",action:t=>s.push({name:"NewResidentEstimateById",params:{residentEstimateId:t.contrato_estimacion}})},{label:"Archivo",action:async t=>{s.push({name:"FilesResidentEstimate",params:{residentEstimateId:t.id_estimacion}})}},{label:"Histórico",action:async t=>{s.push({name:"HistoricoResidentEstimate",params:{residentEstimateId:t.id_estimacion}})}}],s=I(),b=T(),c=_([]);let n=_(!1);const d=()=>s.push({name:"NewResidentEstimate"}),r=()=>{o.value.loading=!0,o.value.pendiente=b.filtros.pendientes,o.value.loading=!1};return r(),{app:o,headers:u,featureOptions:e,detalleEstimacionData:c,detalleEstimacion:n,goToNewResidentEstimate:d,getQuery:r}}},P={class:"px-4 mt-10"},S={class:"flex justify-between"},F={class:"px-4"},H={class:"flex justify-end"};function V(p,o,u,e,s,b){const c=i("arrow-back"),n=i("home-page"),d=i("logout-component"),r=i("title-bar"),t=i("detail-estimate"),a=i("button-base"),v=i("tablero-estimacion-residente");return f(),w("main",P,[m("div",S,[l(c),m("div",null,[l(n),l(d)])]),l(r,{title:"Estimación Residente",subtitle:"Pendientes"}),m("section",F,[m("div",H,[l(t,{data:e.detalleEstimacionData,isOpen:e.detalleEstimacion,onSubmit:o[0]||(o[0]=j=>e.detalleEstimacion=!1)},null,8,["data","isOpen"]),p.rol=="Residente"?(f(),h(a,{key:0,label:"Nueva Estimación Residente",onClick:e.goToNewResidentEstimate,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"])):E("",!0)]),e.app.loading?E("",!0):(f(),h(v,{key:0,options:e.featureOptions,headers:e.headers,data:e.app.pendiente},null,8,["options","headers","data"]))])])}const Y=y(x,[["render",V]]);export{Y as default};
