import{T as f}from"./TableBase-ab2fff79.js";import{f as _,d as p}from"./SICTUnits-30c38d76.js";import{A as b}from"./ArrowBack-9e275589.js";import{B as A}from"./ButtonBase-b1385d88.js";import{_ as B,u as h,r as w,a as o,o as U,c as C,g as t,b as O}from"./index-82d733a0.js";import{T as I}from"./fetchApi-9e9168ab.js";import{S as l}from"./sweetalert2.all-281a79b7.js";const R={name:"UnitMAOFIndex",components:{TableBase:f,ArrowBack:b,ButtonBase:A,TitleBar:I},setup(){const s=h(),d=[{label:"Id",field:"clave_unidad"},{label:"Nombre",field:"unidad"},{label:"Unidad MAOF",field:"unidad"},{label:"Correo",field:"unidad"},{label:"Rol MAOF",field:"unidad"},{label:"Estatus",field:"estado_unidad_maof"}],n=w([]),a=async()=>{const{data:e}=await _();n.value=e},c=[{label:"Editar",action:e=>{s.push({name:"EditUnitMAOF",params:{userRolMAOFId:e.id_unidad_maof}})}},{label:"Eliminar",action:async e=>{l.fire({title:`Estás seguro que desea inactivar la unidad "${e.unidad}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Si, Inactivar!",reverseButtons:!0}).then(async r=>{if(r.isConfirmed)try{await p(e.id_unidad_maof),await a(),l.fire("¡Inactivo!","La unidad se inactivó","success")}catch(i){l.fire("Error",`${i.response.data.detail}`,"error")}})}}],u=()=>s.push({name:"NewUsersRolesMAOF"});return a(),{userAndRols:n,featureOptions:c,headers:d,goToNewUserAndRols:u}}},T={class:"px-4 mt-10"},v={class:"px-4"};function x(s,d,n,a,c,u){const e=o("arrow-back"),r=o("title-bar"),i=o("button-base"),m=o("table-base");return U(),C("main",T,[t(e),t(r,{title:"Usuarios y Roles MAOF",subtitle:"Inicio"}),O("section",v,[t(i,{label:"Alta de Usuarios MAOF",onClick:a.goToNewUserAndRols,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),t(m,{options:a.featureOptions,headers:a.headers,data:a.userAndRols},null,8,["options","headers","data"])])])}const S=B(R,[["render",x]]);export{S as default};
