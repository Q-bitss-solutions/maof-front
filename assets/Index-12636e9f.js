import{T as u}from"./TableBase-18fbcb3f.js";import{f as C,d as g}from"./contract-2cf198a2.js";import{A as v}from"./ArrowBack-c9625761.js";import{H as h}from"./HomePage-16bde673.js";import{B}from"./fetchApi-2015a4cb.js";import{_ as w,u as A,r as x,b as t,o as y,c as I,d as l,e as a}from"./index-24ec4a05.js";import{T}from"./TitleBar-6bc781cb.js";import{S as c}from"./sweetalert2.all-281a79b7.js";import{L as k}from"./LogoutComponent-8f39cc9f.js";const E={name:"CollaborationAgreementsIndex",components:{TableBase:u,ArrowBack:v,HomePage:h,ButtonBase:B,TitleBar:T,LogoutComponent:k},setup(){const n=A(),d=[{label:"Id",field:"id_contrato"},{label:"Tipo",field:"tipo_contrato"},{label:"Proyecto padre (Cartera de inversión)",field:"clave_cartera"},{label:"Contratista",field:"nombre_contratista"},{label:"Unidad MAOF",field:"nombre_unidad"},{label:"Número",field:"numero_contrato"},{label:"Objeto",field:"objeto_contrato"},{label:"Monto (sin IVA)",field:"monto_sin_iva"},{label:"Plazo de inicio",field:"plazo_inicio"},{label:"Plazo de fin",field:"plazo_fin"},{label:"Estatus",field:"estatus_contrato"}],r=x([]),o=async()=>{const{data:e}=await C();r.value=e},m=[{label:"Editar",action:e=>n.push({name:"EditCollaborationAgreements",params:{collaborationAgreementsId:e.id_contrato}})},{label:"Inactivar",action:async e=>{c.fire({title:"Se finalizará el Contrato o Convenio de Colaboración...",text:"¿Está usted seguro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, !Finalizar!",reverseButtons:!0}).then(async i=>{if(i.isConfirmed)try{await g(e.id_contrato),await o(),c.fire("Inactivo!","El contrato o convenio de colaboración se inactivó","success")}catch(s){c.fire("Error",`${s.response.data.detail}`,"error")}})}}],b=()=>n.push({name:"NewCollaborationAgreements"});return o(),{collaborationAgreements:r,featureOptions:m,headers:d,goToNewCollaborationAgreements:b}}},N={class:"px-4 mt-10"},z={class:"flex justify-between"},O={class:"px-4"};function P(n,d,r,o,m,b){const e=t("arrow-back"),i=t("home-page"),s=t("logout-component"),_=t("title-bar"),f=t("button-base"),p=t("table-base");return y(),I("main",N,[l("div",z,[a(e),l("div",null,[a(i),a(s)])]),a(_,{title:"Contratos y Convenios de Colaboración",subtitle:"Inicio"}),l("section",O,[a(f,{label:"Nuevo Contrato o Convenio de Colaboración",onClick:o.goToNewCollaborationAgreements,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),a(p,{description:"Contratos y convenios de colaboración",options:o.featureOptions,headers:o.headers,data:o.collaborationAgreements},null,8,["options","headers","data"])])])}const $=w(E,[["render",P]]);export{$ as default};
