import{_ as k,b as C,o as s,c as a,g as j,d as t,t as o,e as M,h as r,T as I,p as O,k as E,u as F,m as w,F as y,f as g,n as $}from"./index-93ae8b97.js";import{B as S}from"./fetchApi-c6118618.js";import{a as A,b as P}from"./contract-e4fa88ad.js";import{_ as T}from"./PDF-a4bdfbbc.js";const B={name:"ToggleSwitch",components:{ButtonBase:S},props:{data:{type:Object,default:()=>[{example:"value 1"}]},isOpen:{type:Boolean,default:()=>!1}},setup(i,{emit:f}){return{sendStatusModal:()=>f("submit",i.isOpen)}}},x=i=>(O("data-v-e1f02189"),i=i(),E(),i),N={class:"root"},R={key:0,class:"modal items-center justify-center"},z={class:"justify-items-center justify-center items-center"},V={key:0,class:"text-center font-semibold pb-10 pt-5"},G={key:1,class:"text-center font-semibold pb-10 pt-5"},L={class:"grid grid-cols-2 ml-10 justify-center justify-items-center"},U={class:"grid grid-row"},H=x(()=>t("h1",{class:"font-semibold text-center"},"Clave Cartera de Inversión",-1)),Z={class:"text-sm w-full text-center"},q={class:"grid grid-row mb-10"},J=x(()=>t("h1",{class:"font-semibold text-center"},"Nombre",-1)),K={class:"text-sm w-full text-left"},Q={class:"grid grid-row"},W=x(()=>t("h1",{class:"font-semibold"},"Número de Contrato",-1)),X={class:"text-sm w-full text-center"},Y={class:"grid grid-rows mb-10"},tt=x(()=>t("h1",{class:"font-semibold ml-10"},"Objeto del Contrato",-1)),et={class:"text-sm w-full text-left"},ot={class:"flex flex-row justify-between w-full"},st=x(()=>t("h1",{class:"font-semibold"},"Fecha inicio",-1)),nt={class:"text-sm w-full text-center"},at=x(()=>t("h1",{class:"font-semibold"},"Fecha fin",-1)),it={class:"text-sm w-full text-center"},ct={class:"grid grid-rows-2"},lt=x(()=>t("h1",{class:"font-semibold ml-10"},"Unidad MAOF",-1)),dt={class:"text-sm w-full text-left"},rt={class:"grid grid-cols-3 ml-10"},_t=x(()=>t("h1",{class:"font-semibold"},"Monto sin IVA",-1)),ft={class:"text-sm w-full text-left ml-5"},ut=x(()=>t("h1",{class:"font-semibold"},"Estatus del Contrato",-1)),mt={class:"text-sm w-full text-left"},ht=x(()=>t("h1",{class:"font-semibold"},"¿Existen Convenios Modificatorios?",-1)),xt={class:"text-sm w-full text-left ml-10"};function bt(i,f,e,c,p,b){const v=C("button-base");return s(),a("div",N,[(s(),j(I,{to:"body"},[e.isOpen?(s(),a("div",R,[t("div",z,[e.data.tipo_contrato==="Convenio de colaboración"?(s(),a("h1",V," Detalle del Convenio de Colaboración")):(s(),a("h1",G,"Detalle del "+o(e.data.tipo_contrato),1)),t("div",L,[t("div",U,[t("div",null,[H,t("p",Z,o(e.data.frt_clave_cartera),1)])]),t("div",q,[t("div",null,[J,t("p",K,o(e.data.nombre_proyecto),1)])]),t("div",Q,[t("div",null,[W,t("p",X,o(e.data.numero_contrato),1)])]),t("div",Y,[t("div",null,[tt,t("p",et,o(e.data.objeto_contrato),1)])]),t("div",ot,[t("div",null,[st,t("p",nt,o(e.data.plazo_inicio),1)]),t("div",null,[at,t("p",it,o(e.data.plazo_fin),1)])]),t("div",ct,[t("div",null,[lt,t("p",dt,o(e.data.nombre_unidad),1)])])]),t("div",rt,[t("div",null,[_t,t("p",ft," $"+o(e.data.monto_sin_iva),1)]),t("div",null,[ut,t("p",mt,o(e.data.estatus_contrato),1)]),t("div",null,[ht,t("p",xt,o(e.data.id_contrato_padre===null?"No":"Si"),1)])]),M(v,{label:"Cerrar",onClick:c.sendStatusModal,class:"mr-5 mx-auto my-5"},null,8,["onClick"])])])):r("",!0)]))])}const vt=k(B,[["render",bt],["__scopeId","data-v-e1f02189"]]);const pt={name:"ToggleSwitch",components:{ButtonBase:S},props:{data:{type:Object,default:()=>[{example:"value 1"}]},isOpen:{type:Boolean,default:()=>!1}},setup(i,{emit:f}){return{sendStatusModal:()=>f("submit",i.isOpen)}}},_=i=>(O("data-v-e1584540"),i=i(),E(),i),yt={class:"root"},gt={key:0,class:"modal flex flex-col items-center justify-center"},Ct={class:"justify-items-center justify-center items-center verdepastel pb-5"},wt={class:"text-center font-semibold pb-5 pt-5"},$t={class:"grid grid-cols-2 ml-5 justify-center justify-items-center"},kt={class:"grid grid-row"},jt={class:"mr-5"},Mt=_(()=>t("h1",{class:"font-semibold text-center"}," Clave Cartera de Inversión ",-1)),Ot={class:"text-sm w-full text-center"},Et={class:"grid grid-row mb-3"},It=_(()=>t("h1",{class:"font-semibold text-center"},"Nombre",-1)),St={class:"text-sm w-full text-center"},Dt={class:"grid grid-row"},At=_(()=>t("h1",{class:"font-semibold"},"Número de Contrato (de origen)",-1)),Ft={class:"text-sm w-full text-center"},Pt={class:"grid grid-rows"},Tt=_(()=>t("h1",{class:"font-semibold text-center"},"Objeto del Contrato",-1)),Bt={class:"text-sm w-full text-left"},Nt={class:"flex flex-row justify-between w-full"},Rt=_(()=>t("h1",{class:"font-semibold text-center"},"Fecha inicio",-1)),zt={class:"text-sm w-full text-center"},Vt=_(()=>t("h1",{class:"font-semibold text-center"},"Fecha fin",-1)),Gt={class:"text-sm w-full text-center"},Lt={class:"grid grid-cols-2"},Ut=_(()=>t("h1",{class:"font-semibold text-center"},"Monto sin IVA",-1)),Ht={class:"text-sm w-full text-center"},Zt=_(()=>t("h1",{class:"font-semibold text-center"},"Estatus del Contrato",-1)),qt={class:"text-sm w-full text-center"},Jt={class:"justify-center verdeclaro"},Kt=_(()=>t("h1",{class:"text-center font-semibold py-2 text-red"}," Convenio Modificatorio ",-1)),Qt={class:"flex justify-around"},Wt={class:"flex flex-col justify-around"},Xt={class:"py-2"},Yt=_(()=>t("h1",{class:"font-semibold text-red text-center"}," Número de Convenio Modificatorio ",-1)),te={class:"text-sm w-full text-center"},ee={class:"flex flex-row justify-around"},oe={class:"py-2"},se=_(()=>t("h1",{class:"font-semibold text-red"},"Fecha de inicio",-1)),ne={class:"text-sm w-full text-left"},ae={class:"py-2"},ie=_(()=>t("h1",{class:"font-semibold text-red"},"Fecha de fin",-1)),ce={class:"text-sm w-full text-left"},le={class:"justify-items-center py-2"},de=_(()=>t("h1",{class:"font-semibold text-red text-center"}," Monto sin IVA ",-1)),re={class:"text-sm w-full text-center"},_e={class:"flex flex-col ml-10 justify-around"},fe={class:"w-full"},ue=_(()=>t("h1",{class:"font-semibold text-red text-center"}," Objeto del Convenio Modificatorio ",-1)),me={class:"text-sm w-full text-center"},he=_(()=>t("h1",{class:"font-semibold text-red text-center"},"Unidad MAOF",-1)),xe={class:"text-sm w-full text-center"},be=_(()=>t("h1",{class:"font-semibold text-red text-center"}," Estatus del Convenio Modificatorio ",-1)),ve={class:"text-sm w-full text-center"};function pe(i,f,e,c,p,b){const v=C("button-base");return s(),a("div",yt,[(s(),j(I,{to:"body"},[e.isOpen?(s(),a("div",gt,[t("div",Ct,[t("h1",wt,o(e.data.contrato_padre.tipo_contrato==="Convenio de colaboración"?"Convenio de Colaboración":e.data.contrato_padre.tipo_contrato),1),t("div",$t,[t("div",kt,[t("div",jt,[Mt,t("p",Ot,o(e.data.contrato_padre.clave_cartera),1)])]),t("div",Et,[t("div",null,[It,t("p",St,o(e.data.contrato_padre.nombre_proyecto),1)])]),t("div",Dt,[t("div",null,[At,t("p",Ft,o(e.data.contrato_padre.numero_contrato),1)])]),t("div",Pt,[t("div",null,[Tt,t("p",Bt,o(e.data.contrato_padre.objeto_contrato),1)])]),t("div",Nt,[t("div",null,[Rt,t("p",zt,o(e.data.contrato_padre.plazo_inicio),1)]),t("div",null,[Vt,t("p",Gt,o(e.data.contrato_padre.plazo_fin),1)])])]),t("div",Lt,[t("div",null,[Ut,t("p",Ht,o(e.data.contrato_padre.monto_sin_iva),1)]),t("div",null,[Zt,t("p",qt,o(e.data.contrato_padre.estatus_contrato),1)])])]),t("div",Jt,[Kt,t("div",Qt,[t("div",Wt,[t("div",Xt,[Yt,t("p",te,o(e.data.numero_contrato),1)]),t("div",ee,[t("div",oe,[se,t("p",ne,o(e.data.plazo_inicio),1)]),t("div",ae,[ie,t("p",ce,o(e.data.plazo_fin),1)])]),t("div",le,[de,t("p",re,o(e.data.monto_sin_iva),1)])]),t("div",_e,[t("div",fe,[ue,t("p",me,o(e.data.objeto_contrato),1)]),t("div",null,[he,t("p",xe,o(e.data.unidad_maof),1)]),t("div",null,[be,t("p",ve,o(e.data.estatus_contrato),1)])])]),M(v,{label:"Cerrar",onClick:c.sendStatusModal,class:"mr-5 mx-auto my-5"},null,8,["onClick"])])])):r("",!0)]))])}const ye=k(pt,[["render",pe],["__scopeId","data-v-e1584540"]]);const ge={name:"TableEstimateResident",components:{DetailPop:vt,DetailPopConvenioModificatorio:ye},props:{headers:{type:Array,default:()=>[{label:"Example Header",field:"example"}]},data:{type:Array,default:()=>[{example:"value 1"}]},options:{type:Array,default:()=>[{label:"example",action:i=>console.log(i)}]}},setup(){const i=F(),f=[1,2,3];let e=w({isOpen:!1}),c=w({data:{}}),p=w({isOpen:!1}),b=w({data:{},loading:!0});return{dots:f,openActions:d=>{document.getElementById(d).classList.toggle("hidden")},detalleContrato:async d=>{if(e.isOpen=!e.isOpen,d.contrato_padre===null){const{data:u}=await A(d.contrato_estimacion);c.data=u}if(d.contrato_padre!==null){const{data:u}=await A(d.contrato_padre);c.data=u}},semaforo:d=>{i.push({name:"EditResidentEstimate",params:{residentEstimateId:d.id_estimacion}})},downloadFile:async d=>{window.open(`${d.archivo_residente}`,"_blank")},isOpenContratoModal:e,dataContratoConvenio:c,detalleConvenioModificatorio:async d=>{b.loading=!0,p.isOpen=!p.isOpen;const{data:u}=await P(d.contrato_estimacion);b.data=u,b.loading=!1},isOpenConvenioModificatorioModal:p,dataConvenioModificatorio:b}}},Ce=i=>(O("data-v-2d54f8c0"),i=i(),E(),i),we={class:"border border-solid border-t-0 border-l-0 border-black border-collapse text-gray-900 w-full","aria-describedby":"table1"},$e=Ce(()=>t("caption",{class:"text-white"},"Tablero de estimaciones",-1)),ke={key:0},je=["onClick"],Me=["onClick"],Oe=["onClick"],Ee=["onClick"],Ie={key:5},Se=["onClick"],De=["onClick"],Ae=["onClick"],Fe=["onClick"],Pe=["onClick"],Te={class:"flex justify-center"},Be=["onClick"],Ne=["id","onMouseleave"],Re={class:"flex flex-col"},ze={key:0,class:"h-8 flex justify-center items-center py-2 px-8"},Ve=["onClick"];function Ge(i,f,e,c,p,b){const v=C("Detail-Pop"),D=C("DetailPopConvenioModificatorio");return s(),a("table",we,[$e,M(v,{data:c.dataContratoConvenio.data,isOpen:c.isOpenContratoModal.isOpen,onSubmit:f[0]||(f[0]=l=>c.isOpenContratoModal.isOpen=!1)},null,8,["data","isOpen"]),c.dataConvenioModificatorio.loading?r("",!0):(s(),j(D,{key:0,data:c.dataConvenioModificatorio.data,isOpen:c.isOpenConvenioModificatorioModal.isOpen,onSubmit:f[1]||(f[1]=l=>c.isOpenConvenioModificatorioModal.isOpen=!1)},null,8,["data","isOpen"])),t("tr",null,[(s(!0),a(y,null,g(e.headers,(l,h)=>(s(),a("th",{key:h,class:$(["border-b-2 border-l-0 px-2",{"border-r-2":l.label===" "}])},o(l.label),3))),128))]),(s(!0),a(y,null,g(e.data,(l,h)=>(s(),a("tr",{id:"rows",class:$(["mx-6",{" bg-gray-100":h%2===0}]),key:h},[(s(!0),a(y,null,g(e.headers,(n,d)=>(s(),a("td",{key:d,class:$(["text-center px-2",{"border-r-2 text-center":n.field==="documents","border-l":d==0}])},[n.label==="#"?(s(),a("p",ke,o(h+1),1)):r("",!0),n.field==="documents"&&l.archivo_residente!==null?(s(),a("img",{key:1,src:T,onClick:u=>c.downloadFile(l),class:"cursor-pointer",title:"PDF",alt:"PDF"},null,8,je)):r("",!0),n.field==="numero_contrato"&&l.contrato_padre===null?(s(),a("p",{key:2,class:"text-blue cursor-pointer contratos text-center",onClick:u=>c.detalleContrato(l)},o(l[n.field]),9,Me)):r("",!0),n.field==="numero_contrato"&&l.contrato_padre!==null?(s(),a("p",{key:3,class:"text-blue cursor-pointer contratos text-center",onClick:u=>c.detalleContrato(l)},o(l.numero_contrato_padre),9,Oe)):r("",!0),n.field==="numero_contrato_padre"&&l.contrato_padre!==null?(s(),a("p",{key:4,class:"text-blue cursor-pointer contratos text-center",onClick:u=>c.detalleConvenioModificatorio(l)},o(l.numero_contrato),9,Ee)):r("",!0),n.field!=="numero_contrato_padre"&&n.field!=="numero_contrato"&&n.field!=="estatus_semaforo"?(s(),a("p",Ie,o(l[n.field]),1)):r("",!0),n.label==="RESIDENTE"&&n.field==="estatus_semaforo"&&l[n.field]==="Residente"?(s(),a("button",{key:6,class:"bg-orange rounded-full text-orange w-6",onClick:u=>c.semaforo(l)}," ab",8,Se)):r("",!0),n.label==="ÁREA REVISORA"&&n.field==="estatus_semaforo"&&l[n.field]==="Area Revisora"?(s(),a("button",{key:7,class:"bg-orange rounded-full text-orange w-6",onClick:u=>c.semaforo(l)}," ab",8,De)):r("",!0),n.label==="FINANZAS"&&n.field==="estatus_semaforo"&&l[n.field]==="Finanzas"?(s(),a("button",{key:8,class:"bg-orange rounded-full text-orange w-6",onClick:u=>c.semaforo(l)}," ab",8,Ae)):r("",!0),n.label==="TRÁMITE DE PAGO"&&n.field==="estatus_semaforo"&&l[n.field]==="Tramite de Pago"?(s(),a("button",{key:9,class:"bg-orange rounded-full text-orange w-6",onClick:u=>c.semaforo(l)}," ab",8,Fe)):r("",!0),n.label==="PAGO"&&n.field==="estatus_semaforo"&&l[n.field]==="Pago Efectuado"?(s(),a("button",{key:10,class:"bg-green rounded-full text-green w-6",onClick:u=>c.semaforo(l)}," ab",8,Pe)):r("",!0)],2))),128)),e.options.length?(s(),a("td",{key:0,class:$(["p-2 relative",{" border-l-2 border-gray-100":h%2!==0}])},[t("div",Te,[t("div",{class:"p-1 cursor-pointer",onClick:n=>c.openActions(`table-actions-${h}`)},[(s(!0),a(y,null,g(c.dots,(n,d)=>(s(),a("span",{key:d,class:"rounded-full h-1 w-1 block bg-blue mb-1"}))),128))],8,Be)]),t("div",{class:"hidden absolute right-4 top-8 bg-white z-10",style:{"box-shadow":"-3px 3px 6px #00000029"},id:`table-actions-${h}`,onMouseleave:n=>c.openActions(`table-actions-${h}`)},[t("div",Re,[(s(!0),a(y,null,g(e.options,(n,d)=>(s(),a(y,{key:d},[n.disabled?r("",!0):(s(),a("div",ze,[t("p",{class:"text-xs border-b border-solid border-gray-100 cursor-pointer hover:border-gray hover:font-medium",onClick:u=>n.action(l)},o(n.label),9,Ve)]))],64))),128))])],40,Ne)],2)):r("",!0)],2))),128))])}const No=k(ge,[["render",Ge],["__scopeId","data-v-2d54f8c0"]]);const Le={name:"ToggleSwitch",components:{ButtonBase:S},props:{data:{type:Object,default:()=>[{example:"value 1"}]},isOpen:{type:Boolean,default:()=>!1}},setup(i,{emit:f}){return{sendStatusModal:()=>f("submit",i.isOpen)}}},m=i=>(O("data-v-94467539"),i=i(),E(),i),Ue={class:"root"},He={key:0,class:"modal items-center justify-center"},Ze={class:"justify-items-center justify-center items-center"},qe=m(()=>t("h1",{class:"text-center font-semibold pb-10 pt-5"},"Detalle de la Estimación",-1)),Je={class:"flex justify-around"},Ke=m(()=>t("h1",{class:"text-center font-semibold"},"Número de Contrato o Convenio de Colaboración",-1)),Qe={class:"text-center"},We=m(()=>t("h1",{class:"text-center font-semibold"},"Objeto",-1)),Xe={class:"text-center"},Ye={class:"mt-5"},to={class:"flex justify-center items-center flex-row gap-3 py-1"},eo=m(()=>t("h1",{class:"text-left basis-1/2 font-semibold pr-9"},"Fecha de recepción",-1)),oo={class:"text-center"},so={class:"flex justify-center items-center flex-row gap-3 py-1"},no=m(()=>t("h1",{class:"text-center basis-1/2 font-semibold pr-32"},"Fecha de autorización",-1)),ao={class:"text-center"},io={class:"flex justify-center items-center flex-row gap-3 py-1"},co=m(()=>t("h1",{class:"text-right basis-1/3 font-semibold mr-[6.7rem]"},"Período de la Estimación",-1)),lo={class:"text-right"},ro=m(()=>t("h1",{class:"text-right font-semibold"},"al",-1)),_o={class:"text-right"},fo={class:"flex justify-center items-center flex-row gap-3 py-1"},uo=m(()=>t("h1",{class:"text-left basis-1/2 font-semibold"},"Importe de la obra ejecutada",-1)),mo={class:"text-left"},ho={class:"flex justify-center items-center flex-row gap-3 py-1"},xo=m(()=>t("h1",{class:"text-left basis-1/2 font-semibold"},"Importe a pagar",-1)),bo={class:"text-left"},vo={class:"flex justify-center items-center flex-row gap-3 py-1"},po=m(()=>t("h1",{class:"text-left basis-1/2 font-semibold"},"% de grado de avance",-1)),yo={class:"text-left"},go={class:"flex justify-center items-center flex-row gap-3 py-1"},Co=m(()=>t("h1",{class:"text-left basis-1/2 font-semibold"},"% de avance de la Estimación",-1)),wo={class:"text-left"},$o={class:"flex justify-center items-center flex-row gap-3 py-1"},ko=m(()=>t("h1",{class:"text-left basis-1/2 font-semibold"},"% de avance de la Estimación acumulado",-1)),jo={class:"text-left"},Mo={class:"flex justify-center items-center flex-row gap-3 py-1"},Oo=m(()=>t("h1",{class:"text-left basis-1/2 font-semibold"},"% de avance físico",-1)),Eo={class:"text-left"},Io={class:"flex justify-center items-center flex-row gap-3 py-1"},So=m(()=>t("h1",{class:"text-left basis-1/2 font-semibold"},"% de avance financiero",-1)),Do={class:"text-left"};function Ao(i,f,e,c,p,b){const v=C("button-base");return s(),a("div",Ue,[(s(),j(I,{to:"body"},[e.isOpen?(s(),a("div",He,[t("div",Ze,[qe,t("div",Je,[t("div",null,[Ke,t("p",Qe,o(e.data.numero_contrato),1)]),t("div",null,[We,t("p",Xe,o(e.data.objeto_contrato),1)])]),t("div",Ye,[t("div",to,[eo,t("p",oo,o(e.data.fecha_recepcion_info_contratista),1)]),t("div",so,[no,t("p",ao,o(e.data.fecha_autorizacion_contratista),1)]),t("div",io,[co,t("p",lo,o(e.data.fecha_periodo_inicio_estimacion),1),ro,t("p",_o,o(e.data.fecha_periodo_fin_estimacion),1)]),t("div",fo,[uo,t("p",mo,o(e.data.frt_importe_obra_ejecutada),1)]),t("div",ho,[xo,t("p",bo,o(e.data.frt_importe_pagar),1)]),t("div",vo,[po,t("p",yo,o(e.data.grado_avance_obra)+"% ",1)]),t("div",go,[Co,t("p",wo,o(e.data.porcentaje_avance_estimacion)+"% ",1)]),t("div",$o,[ko,t("p",jo,o(e.data.porcentaje_avance_estimacion_acumulado)+"% ",1)]),t("div",Mo,[Oo,t("p",Eo,o(e.data.porcentaje_avance_fisico)+"% ",1)]),t("div",Io,[So,t("p",Do,o(e.data.porcensaje_avance_financiero)+"% ",1)])]),M(v,{label:"Cerrar",onClick:c.sendStatusModal,class:"mr-5 mx-auto my-5"},null,8,["onClick"])])])):r("",!0)]))])}const Ro=k(Le,[["render",Ao],["__scopeId","data-v-94467539"]]);export{Ro as D,No as T};
