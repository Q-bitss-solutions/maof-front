import{_ as k,a as x,o as l,c as i,e as S,b as t,t as a,g as C,f as u,T as A,p as I,m as M,u as R,k as $,F as y,d as w,n as E,r as T}from"./index-86322900.js";import{A as N,T as D}from"./TitleBar-a53dcb3b.js";import{a as O}from"./contract-ded44f6b.js";import{B as j}from"./ButtonBase-0f30a1f8.js";import{_ as F}from"./PDF-a4bdfbbc.js";import{T as P}from"./TableBase-83aa94ca.js";import{f as B,a as V}from"./residentEstimate-643ee178.js";import"./sweetalert2.all-281a79b7.js";const z={name:"ToggleSwitch",components:{ButtonBase:j},props:{data:{type:Object,default:()=>[{example:"value 1"}]},isOpen:{type:Boolean,default:()=>!1}},setup(c,{emit:r}){return{sendStatusModal:()=>r("submit",c.isOpen)}}},v=c=>(I("data-v-8fc99826"),c=c(),M(),c),G={class:"root"},L={key:0,class:"modal items-center justify-center"},H={class:"justify-items-center justify-center items-center"},U={class:"text-center font-semibold pb-10 pt-5"},Z={class:"grid grid-cols-2 ml-10 justify-center justify-items-center"},q={class:"grid grid-row"},J=v(()=>t("h1",{class:"font-semibold text-center"},"Clave Cartera de Inversión",-1)),K={class:"text-sm w-full text-left"},Q={class:"grid grid-row mb-10"},W=v(()=>t("h1",{class:"font-semibold text-center"},"Nombre",-1)),X={class:"text-sm w-full text-left"},Y={class:"grid grid-row"},tt=v(()=>t("h1",{class:"font-semibold"},"Número de Contrato",-1)),et={class:"text-sm w-full text-center"},ot={class:"grid grid-rows mb-10"},st=v(()=>t("h1",{class:"font-semibold ml-10"},"Objeto del Contrato",-1)),nt={class:"text-sm w-full text-left"},at={class:"flex flex-row justify-between w-full"},lt=v(()=>t("h1",{class:"font-semibold"},"Fecha inicio",-1)),it={class:"text-sm w-full text-center"},ct=v(()=>t("h1",{class:"font-semibold"},"Fecha fin",-1)),dt={class:"text-sm w-full text-center"},rt={class:"grid grid-rows-2"},_t=v(()=>t("h1",{class:"font-semibold ml-10"},"Unidad SICT",-1)),ft={class:"text-sm w-full text-left"},ut={class:"grid grid-cols-3 ml-10"},mt=v(()=>t("h1",{class:"font-semibold"},"Monto sin IVA",-1)),bt={class:"text-sm w-full text-left ml-5"},ht=v(()=>t("h1",{class:"font-semibold"},"Estatus del Contrato",-1)),pt={class:"text-sm w-full text-left ml-10"},vt=v(()=>t("h1",{class:"font-semibold"},"¿Existen Convenios Modificatorios?",-1)),xt={class:"text-sm w-full text-left ml-10"};function Ct(c,r,e,o,m,h){const p=x("button-base");return l(),i("div",G,[(l(),S(A,{to:"body"},[e.isOpen?(l(),i("div",L,[t("div",H,[t("h1",U,"Detalle del "+a(e.data.tipo_contrato),1),t("div",Z,[t("div",q,[t("div",null,[J,t("p",K,a(e.data.clave_cartera),1)])]),t("div",Q,[t("div",null,[W,t("p",X,a(e.data.nombre_proyecto),1)])]),t("div",Y,[t("div",null,[tt,t("p",et,a(e.data.numero_contrato),1)])]),t("div",ot,[t("div",null,[st,t("p",nt,a(e.data.objeto_contrato),1)])]),t("div",at,[t("div",null,[lt,t("p",it,a(e.data.plazo_inicio),1)]),t("div",null,[ct,t("p",dt,a(e.data.plazo_fin),1)])]),t("div",rt,[t("div",null,[_t,t("p",ft,a(e.data.nombre_unidad),1)])])]),t("div",ut,[t("div",null,[mt,t("p",bt," $"+a(e.data.monto_sin_iva),1)]),t("div",null,[ht,t("p",pt,a(e.data.estatus_contrato),1)]),t("div",null,[vt,t("p",xt,a(e.data.id_contrato_padre===null?"No":"Si"),1)])]),C(p,{label:"Cerrar",onClick:o.sendStatusModal,class:"mr-5 mx-auto my-5"},null,8,["onClick"])])])):u("",!0)]))])}const gt=k(z,[["render",Ct],["__scopeId","data-v-8fc99826"]]);const yt={name:"ToggleSwitch",components:{ButtonBase:j},props:{data:{type:Object,default:()=>[{example:"value 1"}]},isOpen:{type:Boolean,default:()=>!1}},setup(c,{emit:r}){return{sendStatusModal:()=>r("submit",c.isOpen)}}},_=c=>(I("data-v-f2afa920"),c=c(),M(),c),wt={class:"root"},kt={key:0,class:"modal flex flex-col items-center justify-center"},$t={class:"justify-items-center justify-center items-center verdepastel"},Et={class:"text-center font-semibold pb-5 pt-5"},Ot={class:"grid grid-cols-2 ml-5 justify-center justify-items-center"},It={class:"grid grid-row"},Mt={class:"mr-5"},jt=_(()=>t("h1",{class:"font-semibold text-center"},"Clave Cartera de Inversión",-1)),St={class:"text-sm w-full text-left"},At={class:"grid grid-row mb-3"},Rt=_(()=>t("h1",{class:"font-semibold text-center"},"Nombre",-1)),Tt={class:"text-sm w-full text-left"},Nt={class:"grid grid-row"},Dt=_(()=>t("h1",{class:"font-semibold"},"Número de Contrato",-1)),Ft={class:"text-sm w-full text-center"},Pt={class:"grid grid-rows"},Bt=_(()=>t("h1",{class:"font-semibold text-center"},"Objeto del Contrato",-1)),Vt={class:"text-sm w-full text-left"},zt={class:"flex flex-row justify-between w-full"},Gt=_(()=>t("h1",{class:"font-semibold text-center"},"Fecha inicio",-1)),Lt={class:"text-sm w-full text-center"},Ht=_(()=>t("h1",{class:"font-semibold text-center"},"Fecha fin",-1)),Ut={class:"text-sm w-full text-center"},Zt={class:"grid grid-cols-2"},qt=_(()=>t("h1",{class:"font-semibold text-center"},"Monto sin IVA",-1)),Jt={class:"text-sm w-full text-center"},Kt=_(()=>t("h1",{class:"font-semibold text-center"},"Estatus del Contrato",-1)),Qt={class:"text-sm w-full text-center"},Wt={class:"justify-center verdeclaro"},Xt=_(()=>t("h1",{class:"text-center font-semibold pb-5 text-red"},"Convenio Modificatorio",-1)),Yt={class:"flex justify-around"},te={class:"flex flex-col justify-around"},ee=_(()=>t("h1",{class:"font-semibold text-red"},"Número de Convenio Modificatorio",-1)),oe={class:"text-sm w-full text-center"},se={class:"flex flex-row justify-around"},ne=_(()=>t("h1",{class:"font-semibold text-red"},"Fecha de inicio",-1)),ae={class:"text-sm w-full text-left"},le=_(()=>t("h1",{class:"font-semibold text-red"},"Fecha de fin ",-1)),ie={class:"text-sm w-full text-left"},ce={class:"justify-items-center"},de=_(()=>t("h1",{class:"font-semibold text-red text-center"},"Monto sin IVA",-1)),re={class:"text-sm w-full text-center"},_e={class:"flex flex-col ml-10 justify-around"},fe=_(()=>t("div",{class:"w-full"},[t("h1",{class:"font-semibold text-red text-center"},"Objeto del Convenio Modificatorio"),t("p",{class:"text-sm w-full text-cetner"},"Modernización y Ampliación de la Línea 1 del Tren Ligero Guadalajara LTG1")],-1)),ue=_(()=>t("h1",{class:"font-semibold text-red text-center"},"Unidad SICT ",-1)),me={class:"text-sm w-full text-center"},be=_(()=>t("h1",{class:"font-semibold text-red text-center"},"Estatus del Convenio Modificatorio ",-1)),he={class:"text-sm w-full text-center"};function pe(c,r,e,o,m,h){const p=x("button-base");return l(),i("div",wt,[(l(),S(A,{to:"body"},[e.isOpen?(l(),i("div",kt,[t("div",$t,[t("h1",Et,"Detalle del "+a(e.data.tipo_contrato),1),t("div",Ot,[t("div",It,[t("div",Mt,[jt,t("p",St,a(e.data.clave_cartera),1)])]),t("div",At,[t("div",null,[Rt,t("p",Tt,a(e.data.nombre_proyecto),1)])]),t("div",Nt,[t("div",null,[Dt,t("p",Ft,a(e.data.numero_contrato),1)])]),t("div",Pt,[t("div",null,[Bt,t("p",Vt,a(e.data.objeto_contrato),1)])]),t("div",zt,[t("div",null,[Gt,t("p",Lt,a(e.data.plazo_inicio),1)]),t("div",null,[Ht,t("p",Ut,a(e.data.plazo_fin),1)])])]),t("div",Zt,[t("div",null,[qt,t("p",Jt," $"+a(e.data.monto_sin_iva),1)]),t("div",null,[Kt,t("p",Qt,a(e.data.estatus_contrato),1)])])]),t("div",Wt,[Xt,t("div",Yt,[t("div",te,[t("div",null,[ee,t("p",oe,a()+"CONVENIO-1",1)]),t("div",se,[t("div",null,[ne,t("p",ae,a()+"01/01/2023",1)]),t("div",null,[le,t("p",ie,a()+"01/01/2023",1)])]),t("div",ce,[de,t("p",re,a()+"$900000",1)])]),t("div",_e,[fe,t("div",null,[ue,t("p",me,a()+"13 - Obras y Contratos",1)]),t("div",null,[be,t("p",he,a()+"En progreso",1)])])]),C(p,{label:"Cerrar",onClick:o.sendStatusModal,class:"mr-5 mx-auto my-5"},null,8,["onClick"])])])):u("",!0)]))])}const ve=k(yt,[["render",pe],["__scopeId","data-v-f2afa920"]]);const xe={name:"TableEstimateResident",components:{DetailPop:gt,DetailPopConvenioModificatorio:ve},props:{headers:{type:Array,default:()=>[{label:"Example Header",field:"example"}]},data:{type:Array,default:()=>[{example:"value 1"}]},options:{type:Array,default:()=>[{label:"example",action:c=>console.log(c)}]}},setup(){const c=R(),r=[1,2,3];let e=$({isOpen:!1}),o=$({data:{}}),m=$({isOpen:!1}),h=$({data:{}});return{dots:r,openActions:d=>{document.getElementById(d).classList.toggle("hidden")},detalleContrato:async d=>{if(e.isOpen=!e.isOpen,console.log("Se muestran los detalles del contrato: ",d),d.contrato_padre===null){const{data:f}=await O(d.contrato_estimacion);o.data=f,console.log("dataContratoConvenio.data: ",o.data)}if(d.contrato_padre!==null){const{data:f}=await O(d.contrato_padre);o.data=f,console.log("dataContratoConvenio.data: ",o.data)}},semaforo:d=>{console.log("Se muestran el item: ",d),c.push({name:"EditResidentEstimate",params:{residentEstimateId:d.id_estimacion}})},downloadFile:async d=>{console.log("Item a descargar: ",d),window.open(`${d.archivo_residente}`,"_blank")},isOpenContratoModal:e,dataContratoConvenio:o,detalleConvenioModificatorio:async d=>{m.isOpen=!m.isOpen;const{data:f}=await O(d.contrato_estimacion);h.data=f,console.log("dataContratoConvenio.data: ",h.data)},isOpenConvenioModificatorioModal:m,dataConvenioModificatorio:h}}},Ce={class:"border border-solid border-t-0 border-l-0 border-black border-collapse text-gray-900 w-full"},ge={key:0},ye=["onClick"],we=["onClick"],ke=["onClick"],$e=["onClick"],Ee={key:5},Oe=["onClick"],Ie=["onClick"],Me=["onClick"],je=["onClick"],Se=["onClick"],Ae={class:"flex justify-center"},Re=["onClick"],Te=["id","onMouseleave"],Ne={class:"flex flex-col"},De=["onClick"];function Fe(c,r,e,o,m,h){const p=x("Detail-Pop"),g=x("DetailPopConvenioModificatorio");return l(),i("table",Ce,[C(p,{data:o.dataContratoConvenio.data,isOpen:o.isOpenContratoModal.isOpen,onSubmit:r[0]||(r[0]=s=>o.isOpenContratoModal.isOpen=!1)},null,8,["data","isOpen"]),C(g,{data:o.dataContratoConvenio.data,isOpen:o.isOpenConvenioModificatorioModal.isOpen,onSubmit:r[1]||(r[1]=s=>o.isOpenConvenioModificatorioModal.isOpen=!1)},null,8,["data","isOpen"]),t("tr",null,[(l(!0),i(y,null,w(e.headers,(s,b)=>(l(),i("th",{key:b,class:E(["border-b-2 border-l-0 px-2",{"border-r-2":s.label===" "}])},a(s.label),3))),128))]),(l(!0),i(y,null,w(e.data,(s,b)=>(l(),i("tr",{id:"rows",class:E(["mx-6",{" bg-gray-100":b%2===0}]),key:b},[(l(!0),i(y,null,w(e.headers,(n,d)=>(l(),i("td",{key:d,class:E(["text-center",{"border-r-2 text-center":n.field==="documents","border-l":d==0}])},[n.label==="#"?(l(),i("p",ge,a(b+1),1)):u("",!0),n.field==="documents"?(l(),i("img",{key:1,src:F,onClick:f=>o.downloadFile(s),class:"cursor-pointer"},null,8,ye)):u("",!0),n.field==="numero_contrato"&&s.contrato_padre===null?(l(),i("p",{key:2,class:"text-blue cursor-pointer contratos",onClick:f=>o.detalleContrato(s)},a(s[n.field]),9,we)):u("",!0),n.field==="numero_contrato"&&s.contrato_padre!==null?(l(),i("p",{key:3,class:"text-blue cursor-pointer contratos",onClick:f=>o.detalleContrato(s)},a(s.numero_contrato_padre),9,ke)):u("",!0),n.field==="numero_contrato_padre"&&s.contrato_padre!==null?(l(),i("p",{key:4,class:"text-blue cursor-pointer contratos",onClick:f=>o.detalleConvenioModificatorio(s)},a(s.numero_contrato),9,$e)):u("",!0),n.field!=="numero_contrato_padre"&&n.field!=="numero_contrato"&&n.field!=="estatus_semaforo"?(l(),i("p",Ee,a(s[n.field]),1)):u("",!0),n.label==="RESIDENTE"&&n.field==="estatus_semaforo"&&s[n.field]==="Residente"?(l(),i("button",{key:6,class:"bg-red rounded-full text-red",onClick:f=>o.semaforo(s)}," abcd",8,Oe)):u("",!0),n.label==="ÁREA REVISORA"&&n.field==="estatus_semaforo"&&s[n.field]==="Area Revisora"?(l(),i("button",{key:7,class:"bg-red rounded-full text-red",onClick:f=>o.semaforo(s)}," abcd",8,Ie)):u("",!0),n.label==="FINANZAS"&&n.field==="estatus_semaforo"&&s[n.field]==="Finanzas"?(l(),i("button",{key:8,class:"bg-red rounded-full text-red",onClick:f=>o.semaforo(s)}," abcd",8,Me)):u("",!0),n.label==="TRÁMITE DE PAGO"&&n.field==="estatus_semaforo"&&s[n.field]==="DGPOP"?(l(),i("button",{key:9,class:"bg-red rounded-full text-red",onClick:f=>o.semaforo(s)}," abcd",8,je)):u("",!0),n.label==="PAGO"&&n.field==="estatus_semaforo"&&s[n.field]==="Pago Efectuado"?(l(),i("button",{key:10,class:"bg-green rounded-full text-green",onClick:f=>o.semaforo(s)}," abcd",8,Se)):u("",!0)],2))),128)),e.options.length?(l(),i("td",{key:0,class:E(["p-2 relative",{" border-l-2 border-gray-100":b%2!==0}])},[t("div",Ae,[t("div",{class:"p-1 cursor-pointer",onClick:n=>o.openActions(`table-actions-${b}`)},[(l(!0),i(y,null,w(o.dots,(n,d)=>(l(),i("span",{key:d,class:"rounded-full h-1 w-1 block bg-blue mb-1"}))),128))],8,Re)]),t("div",{class:"hidden absolute right-4 top-8 bg-white z-10",style:{"box-shadow":"-3px 3px 6px #00000029"},id:`table-actions-${b}`,onMouseleave:n=>o.openActions(`table-actions-${b}`)},[t("div",Ne,[(l(!0),i(y,null,w(e.options,(n,d)=>(l(),i("div",{key:d,class:"h-8 flex justify-center items-center py-2 px-8"},[t("p",{class:"text-xs border-b border-solid border-gray-100 cursor-pointer hover:border-gray hover:font-medium",onClick:f=>n.action(s)},a(n.label),9,De)]))),128))])],40,Te)],2)):u("",!0)],2))),128))])}const Pe=k(xe,[["render",Fe],["__scopeId","data-v-31dfa6ea"]]);const Be={name:"ToggleSwitch",props:{label:{type:String,default:""}}},Ve=c=>(I("data-v-c78a01f0"),c=c(),M(),c),ze={class:"panel panel-default"},Ge={class:"panel-heading"},Le={class:"panel-title"},He=Ve(()=>t("div",{class:"panel-body"},[t("label",{class:"switch"},[t("input",{type:"checkbox"}),t("div",{class:"slider round"})])],-1));function Ue(c,r,e,o,m,h){return l(),i("div",ze,[t("div",Ge,[t("h3",Le,a(e.label),1)]),He])}const Ze=k(Be,[["render",Ue],["__scopeId","data-v-c78a01f0"]]),qe={name:"ResidentEstimateIndex",components:{TableroEstimacionResidente:Pe,ArrowBack:N,ButtonBase:j,TitleBar:D,TableBase:P,ToggleSwitch:Ze},setup(){const c=R(),r=[{label:"#",field:""},{label:"Contrato o Convenio de Colaboración",field:"numero_contrato"},{label:"Convenio Modificatorio",field:"numero_contrato_padre"},{label:" ",field:"documents"},{label:"# Estimación",field:"num_consecutivo_estimacion"},{label:"Inicio",field:"fecha_periodo_inicio_estimacion"},{label:"Fin",field:"fecha_periodo_fin_estimacion"},{label:"Alta",field:"fecha_alta"},{label:"Fecha de autorización",field:"fecha_autorizacion_contratista"},{label:"Días transcurridos",field:"dias_transcurridos"},{label:"RESIDENTE",field:"estatus_semaforo"},{label:"ÁREA REVISORA",field:"estatus_semaforo"},{label:"FINANZAS",field:"estatus_semaforo"},{label:"TRÁMITE DE PAGO",field:"estatus_semaforo"},{label:"PAGO",field:"estatus_semaforo"}],e=T([]);let o=!1;const m=async()=>{const{data:s}=await B();e.value=s},h=[{label:"Nuevo",action:s=>c.push({name:"NewResidentEstimateById",params:{residentEstimateId:s.contrato_estimacion}})},{label:"Archivo",action:async s=>{c.push({name:"FilesResidentEstimate",params:{residentEstimateId:s.id_estimacion}})}}],p=()=>c.push({name:"NewResidentEstimate"}),g=async()=>{if(o=!o,o===!0){const{data:s}=await V(9);e.value=s}o===!1&&m()};return m(),{residentEstimate:e,featureOptions:h,headers:r,goToNewResidentEstimate:p,getResidentEstimate:m,processo:g}}},Je={class:"px-4 mt-10"},Ke={class:"px-4"},Qe={class:"flex justify-end"};function We(c,r,e,o,m,h){const p=x("arrow-back"),g=x("title-bar"),s=x("button-base"),b=x("toggle-switch"),n=x("tablero-estimacion-residente");return l(),i("main",Je,[C(p),C(g,{title:"Estimación Residente",subtitle:"Inicio"}),t("section",Ke,[t("div",Qe,[C(s,{label:"Nueva Estimación Residente",onClick:o.goToNewResidentEstimate,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),C(b,{label:"En Proceso",onChange:o.processo,class:"mb-3 mr-0 ml-10"},null,8,["onChange"])]),C(n,{options:o.featureOptions,headers:o.headers,data:o.residentEstimate},null,8,["options","headers","data"])])])}const lo=k(qe,[["render",We]]);export{lo as default};
