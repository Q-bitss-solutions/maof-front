import{F as f}from"./FormProject-73e0e559.js";import{A as _}from"./ArrowBack-5369885d.js";import{T as j}from"./fetchApi-8b9134ef.js";import{a as P,u as b}from"./project-d924c2fa.js";import{_ as y,m as B,u as h,l as k,a as c,o as d,c as x,g as l,b as g,e as v,f as w}from"./index-733385a3.js";import{S as n}from"./sweetalert2.all-281a79b7.js";import"./InputBase-6c0b0bec.js";import"./ButtonBase-47fb9ccf.js";const E={name:"EditProject",components:{FormProject:f,ArrowBack:_,TitleBar:j},setup(){const i=B(),p=h(),o=k({project:{},loading:!0}),e=async()=>{o.loading=!0;const{data:r}=await P(i.params.projectId);o.project=r,o.loading=!1},m=async r=>{try{await b(r),n.fire("¡Éxito!","Proyecto actualizado con éxito!","success"),p.push({name:"Projects"})}catch(t){if(t.response.data.detail)n.fire("Error",`${t.response.data.detail}`,"error");else{let a=[];for(const[s,u]of Object.entries(t.response.data))a.push(`
${s} - ${u}
`);n.fire("Error",`${a}`,"error")}}};return e(),{app:o,saveProject:m}}},$={class:"px-4 mt-10"},S={class:"px-4"};function I(i,p,o,e,m,r){const t=c("arrow-back"),a=c("title-bar"),s=c("form-project");return d(),x("main",$,[l(t),l(a,{title:"Proyectos",subtitle:"Editar"}),g("section",S,[e.app.loading?w("",!0):(d(),v(s,{key:0,onSubmit:e.saveProject,project:e.app.project,"edit-mode":""},null,8,["onSubmit","project"]))])])}const O=y(E,[["render",I]]);export{O as default};
