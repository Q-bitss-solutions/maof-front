import{T as b}from"./TableBase-f49219b8.js";import{f as h,d as y}from"./project-ca24e4e1.js";import{A as v}from"./ArrowBack-fd64ea0e.js";import{H as B}from"./HomePage-09835846.js";import{B as w}from"./fetchApi-d28bf2c1.js";import{_ as g,u as j,r as P,b as t,o as x,c as C,d as l,e as a}from"./index-2a48b7f4.js";import{T as E}from"./TitleBar-0949630f.js";import{S as m}from"./sweetalert2.all-281a79b7.js";import{L as T}from"./LogoutComponent-c111ff45.js";const k={name:"ProjectIndex",components:{TableBase:b,ArrowBack:v,HomePage:B,ButtonBase:w,TitleBar:E,LogoutComponent:T},setup(){const r=j(),p=[{label:"Clave cartera",field:"clave_cartera"},{label:"Nombre proyecto",field:"nombre_proyecto"},{label:"Monto total inversi칩n",field:"monto_total_inversion"},{label:"Estatus proyecto",field:"estatus_proyecto"},{label:"Fecha inicio",field:"fecha_inicio_proyecto"},{label:"Fecha fin",field:"fecha_fin_proyecto"}],n=P([]),e=async()=>{const{data:o}=await h();n.value=o},_=[{label:"Editar",action:o=>r.push({name:"EditProject",params:{projectId:o.id_proyecto}})},{label:"Inactivar",action:async o=>{m.fire({title:`Est치s seguro que deseas inactivar el proyecto "${o.nombre_proyecto}"?`,text:"Esto inactivar치 el proyecto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Inactivar!",reverseButtons:!0}).then(async s=>{if(s.isConfirmed)try{await y(o.id_proyecto),await e(),m.fire("Inactivado!","El proyecto se inactiv칩","success")}catch(i){m.fire("Error",`${i.response.data.detail}`,"error")}})}}],d=()=>r.push({name:"NewProject"}),c=()=>r.push({name:"Home"});return e(),{projects:n,featureOptions:_,headers:p,goToNewProject:d,goToHome:c}}},I={class:"px-4 mt-10"},N={class:"flex justify-between"},H={class:"px-4"};function S(r,p,n,e,_,d){const c=t("arrow-back"),o=t("home-page"),s=t("logout-component"),i=t("title-bar"),f=t("button-base"),u=t("table-base");return x(),C("main",I,[l("div",N,[a(c),l("div",null,[a(o),a(s)])]),a(i,{title:"Proyectos",subtitle:"Inicio"}),l("section",H,[a(f,{label:"Nuevo proyecto",onClick:e.goToNewProject,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),a(u,{description:"Proyectos",options:e.featureOptions,headers:e.headers,data:e.projects},null,8,["options","headers","data"])])])}const z=g(k,[["render",S]]);export{z as default};
