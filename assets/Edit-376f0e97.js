import{F as g}from"./FormCollaborationAgreements-e91fb982.js";import{A as h}from"./ArrowBack-7a435b28.js";import{T as A}from"./TitleBar-e5c8df83.js";import{a as C,u as v}from"./contract-e7012684.js";import{_ as x,a as y,q as k,u as B,m as w,b as r,o as b,c as E,d as s,e as c,t as S,g as $,h as j}from"./index-c1f09a3a.js";import{S as m}from"./sweetalert2.all-281a79b7.js";import{L as I}from"./LogoutComponent-b10e70fb.js";import{H as N}from"./HomePage-aa58e36f.js";import"./InputBase-88596ea4.js";import"./TextAreaBase-f6450077.js";import"./fetchApi-b849a3bc.js";import"./SelectBase-e20657df.js";import"./reviewArea-9ea8b23c.js";import"./contractor-fd449d8b.js";import"./project-e6f8f317.js";const V={name:"EditCollaborationAgreement",components:{FormCollaborationAgreements:g,ArrowBack:h,TitleBar:A,HomePage:N,LogoutComponent:I},setup(){const p=y(),{rol:d}=p.getAuthData,_=k(),o=B(),t=w({collaborationAgreements:{},loading:!0}),u=async()=>{t.loading=!0;const{data:e}=await C(_.params.collaborationAgreementsId);t.collaborationAgreements=e,t.loading=!1},i=async e=>{try{await v(e),m.fire("¡Éxito!","Convenio de colaboración actualizado con éxito!","success"),o.push({name:"CollaborationAgreements"})}catch(a){if(a.response.data.detail)m.fire("Error",`${a.response.data.detail}`,"error");else{let n=[];for(const[l,f]of Object.entries(a.response.data))n.push(`
${l} - ${f}
`);m.fire("Error",`${n}`,"error")}}};return u(),{app:t,rol:d,saveCollaborationAgreement:i}}},D={class:"px-4 mt-10"},F={class:"flex justify-between"},H={class:"flex justify-center items-center"},L={class:"text-black font-semibold mr-4 items-center content-center"},R={class:"px-4"};function T(p,d,_,o,t,u){const i=r("arrow-back"),e=r("home-page"),a=r("logout-component"),n=r("title-bar"),l=r("form-collaboration-agreements");return b(),E("main",D,[s("div",F,[c(i),s("div",H,[s("p",L,S(o.rol),1),c(e),c(a)])]),c(n,{title:"Contratos y Convenios de colaboración",subtitle:"Editar"}),s("section",R,[o.app.loading?j("",!0):(b(),$(l,{key:0,onSubmit:o.saveCollaborationAgreement,collaborationAgreements:o.app.collaborationAgreements,"edit-mode":""},null,8,["onSubmit","collaborationAgreements"]))])])}const to=x(V,[["render",T]]);export{to as default};
