import{I as m}from"./InputBase-09215f7e.js";import{B as _}from"./ButtonBase-0faaa334.js";import{S as b}from"./SelectBase-3bae4cc0.js";import{f as u}from"./project-c3c5cddc.js";import{f}from"./reviewArea-e1fece92.js";import{f as V}from"./contractor-bbf7a99c.js";import{_ as v,k as y,a as s,o as j,c as z,g as i}from"./index-8f59a131.js";const C={name:"FormContract",props:{editMode:{type:Boolean,default:!1},contract:{type:Object,default:()=>({})}},components:{InputBase:m,ButtonBase:_,SelectBase:b},setup(r,{emit:a}){const l=y({contract:{id_proyecto:"",id_contratista:"",id_area_revisora:"",monto_sin_iva:"",plazo_inicio:"",plazo_fin:"",objeto_contrato:""},listProjects:[],listContractors:[],listReviewAreas:[]});r.editMode&&(l.contract=r.contract,l.contract.plazo_inicio=r.contract.plazo_inicio.split("-").reverse().join("-"),l.contract.plazo_fin=r.contract.plazo_fin.split("-").reverse().join("-"));const o=()=>a("submit",l.contract),p=async()=>{const{data:e}=await u();l.listProjects=e.map(n=>({value:n.id_proyecto,label:n.nombre_proyecto}))},d=async()=>{const{data:e}=await V();l.listContractors=e.map(n=>({value:n.id_contratista,label:n.nombre_contratista}))},c=async()=>{const{data:e}=await f();l.listReviewAreas=e.map(n=>({value:n.id,label:n.nombre_unidad}))};return p(),d(),c(),{app:l,sendForm:o}}},w={class:"max-w-xl mx-auto"};function B(r,a,l,o,p,d){const c=s("select-base"),e=s("input-base"),n=s("button-base");return j(),z("div",w,[i(c,{id:"id_proyecto",label:"Proyecto",modelValue:o.app.contract.id_proyecto,"onUpdate:modelValue":a[0]||(a[0]=t=>o.app.contract.id_proyecto=t),options:o.app.listProjects,class:"mb-3"},null,8,["modelValue","options"]),i(c,{id:"id_contratista",label:"Contratista",modelValue:o.app.contract.id_contratista,"onUpdate:modelValue":a[1]||(a[1]=t=>o.app.contract.id_contratista=t),options:o.app.listContractors,class:"mb-3"},null,8,["modelValue","options"]),i(c,{id:"area_revisora",label:"Área revisora",modelValue:o.app.contract.id_area_revisora,"onUpdate:modelValue":a[2]||(a[2]=t=>o.app.contract.id_area_revisora=t),options:o.app.listReviewAreas,class:"mb-3"},null,8,["modelValue","options"]),i(e,{id:"monto_sin_iva",label:"Monto sin IVA",placeholder:"Escribe el monto sin IVA",type:"number",modelValue:o.app.contract.monto_sin_iva,"onUpdate:modelValue":a[3]||(a[3]=t=>o.app.contract.monto_sin_iva=t),class:"mb-3"},null,8,["modelValue"]),i(e,{id:"objeto_contrato",label:"Objeto contrato",placeholder:"Escribe el objeto contrato",modelValue:o.app.contract.objeto_contrato,"onUpdate:modelValue":a[4]||(a[4]=t=>o.app.contract.objeto_contrato=t),class:"mb-4"},null,8,["modelValue"]),i(e,{id:"plazo_inicio",label:"Fecha inicio",type:"date",modelValue:o.app.contract.plazo_inicio,"onUpdate:modelValue":a[5]||(a[5]=t=>o.app.contract.plazo_inicio=t),class:"mb-4"},null,8,["modelValue"]),i(e,{id:"plazo_fin",label:"Fecha fin",type:"date",modelValue:o.app.contract.plazo_fin,"onUpdate:modelValue":a[6]||(a[6]=t=>o.app.contract.plazo_fin=t),class:"mb-4"},null,8,["modelValue"]),i(n,{label:"Guardar",onClick:o.sendForm,class:"mr-0 ml-auto"},null,8,["onClick"])])}const g=v(C,[["render",B]]);export{g as F};
