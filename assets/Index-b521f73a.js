import{T as u}from"./TableBase-e9c70151.js";import{f as b,d as h}from"./project-16a39c4b.js";import{A as y}from"./ArrowBack-b2c59527.js";import{H as v}from"./HomePage-d6da5f31.js";import{B}from"./ButtonBase-6d550a58.js";import{_ as w,u as j,r as g,a as t,o as x,c as P,b as d,g as a}from"./index-46ddd6d6.js";import{T as C}from"./fetchApi-642ff3f7.js";import{S as l}from"./sweetalert2.all-281a79b7.js";const E={name:"ProjectIndex",components:{TableBase:u,ArrowBack:y,HomePage:v,ButtonBase:B,TitleBar:C},setup(){const r=j(),m=[{label:"Clave cartera",field:"clave_cartera"},{label:"Nombre proyecto",field:"nombre_proyecto"},{label:"Monto total inversi칩n",field:"monto_total_inversion"},{label:"Estatus proyecto",field:"estatus_proyecto"},{label:"Fecha inicio",field:"fecha_inicio_proyecto"},{label:"Fecha fin",field:"fecha_fin_proyecto"}],s=g([]),o=async()=>{const{data:e}=await b();s.value=e},p=[{label:"Editar",action:e=>r.push({name:"EditProject",params:{projectId:e.id_proyecto}})},{label:"Inactivar",action:async e=>{l.fire({title:`Est치s seguro que deseas inactivar el proyecto "${e.nombre_proyecto}"?`,text:"Esto inactivar치 el proyecto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Inactivar!",reverseButtons:!0}).then(async n=>{if(n.isConfirmed)try{await h(e.id_proyecto),await o(),l.fire("Inactivado!","El proyecto se inactiv칩","success")}catch(i){l.fire("Error",`${i.response.data.detail}`,"error")}})}}],_=()=>r.push({name:"NewProject"}),c=()=>r.push({name:"Home"});return o(),{projects:s,featureOptions:p,headers:m,goToNewProject:_,goToHome:c}}},T={class:"px-4 mt-10"},k={class:"flex justify-between"},I={class:"px-4"};function N(r,m,s,o,p,_){const c=t("arrow-back"),e=t("home-page"),n=t("title-bar"),i=t("button-base"),f=t("table-base");return x(),P("main",T,[d("div",k,[a(c),a(e)]),a(n,{title:"Proyectos",subtitle:"Inicio"}),d("section",I,[a(i,{label:"Nuevo proyecto",onClick:o.goToNewProject,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),a(f,{options:o.featureOptions,headers:o.headers,data:o.projects},null,8,["options","headers","data"])])])}const M=w(E,[["render",N]]);export{M as default};
