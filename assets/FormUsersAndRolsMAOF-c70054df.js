import{I as p}from"./InputBase-c0fb476f.js";import{B as A}from"./ButtonBase-f4a85546.js";import{S as _}from"./SelectBase-80f1bd4e.js";import{f as b}from"./SICTUnits-ccac27b6.js";import{f}from"./fetchApi-9b5c6a20.js";import{_ as R,k as c,a as m,o as V,c as F,g as d}from"./index-0f034145.js";const M=()=>f({url:"/roles/",method:"GET"}),U={name:"FormUnitMAOF",props:{editMode:{type:Boolean,default:!1},userAndRols:{type:Object,default:()=>({})}},components:{InputBase:p,ButtonBase:A,SelectBase:_},setup(t,{emit:a}){const e=c({userAndRols:{email:"",first_name:"",last_name:"",rol:"",unidad_maof:""},maternal_surname:"",listUnitsMAOF:[],listRolesMAOF:[]});t.editMode&&(e.userAndRols=t.userAndRols,e.maternal_surname=t.userAndRols.last_name.split(" ")[1],e.userAndRols.last_name=t.userAndRols.last_name.split(" ")[0],e.userAndRols.rol=t.userAndRols.rol_id,e.userAndRols.unidad_maof=t.userAndRols.unidad_maof_id,console.log("app: ",e.userAndRols));const l=async()=>{const{data:n}=await b();e.listUnitsMAOF=n.map(o=>({value:o.id_unidad_maof,label:o.unidad})),e.listUnitsMAOF.sort((o,r)=>o.label>r.label?1:o.label<r.label?-1:0)},i=async()=>{const{data:n}=await M();e.listRolesMAOF=n.map(o=>({value:o.id,label:o.nombre_rol})),e.listRolesMAOF.sort((o,r)=>o.label>r.label?1:o.label<r.label?-1:0)},u=()=>{e.userAndRols.last_name=e.userAndRols.last_name+" "+e.maternal_surname,a("submit",e.userAndRols)};return l(),i(),{app:e,sendForm:u}}},O={class:"max-w-xl mx-auto"};function B(t,a,e,l,i,u){const n=m("input-base"),o=m("select-base"),r=m("button-base");return V(),F("div",O,[d(n,{id:"aPaterno",label:"Apellido paterno",class:"mb-3",modelValue:l.app.userAndRols.last_name,"onUpdate:modelValue":a[0]||(a[0]=s=>l.app.userAndRols.last_name=s)},null,8,["modelValue"]),d(n,{id:"aMaterno",label:"Apellido materno",class:"mb-3",modelValue:l.app.maternal_surname,"onUpdate:modelValue":a[1]||(a[1]=s=>l.app.maternal_surname=s)},null,8,["modelValue"]),d(n,{id:"nombre",label:"Nombres(s)",class:"mb-3",modelValue:l.app.userAndRols.first_name,"onUpdate:modelValue":a[2]||(a[2]=s=>l.app.userAndRols.first_name=s)},null,8,["modelValue"]),d(o,{id:"id_unidad_maof",label:"Unidad MAOF",options:l.app.listUnitsMAOF,modelValue:l.app.userAndRols.unidad_maof,"onUpdate:modelValue":a[3]||(a[3]=s=>l.app.userAndRols.unidad_maof=s),class:"mb-3"},null,8,["options","modelValue"]),d(o,{id:"id_rol_maof",label:"Rol en el sistema",options:l.app.listRolesMAOF,class:"mb-3",modelValue:l.app.userAndRols.rol,"onUpdate:modelValue":a[4]||(a[4]=s=>l.app.userAndRols.rol=s)},null,8,["options","modelValue"]),d(n,{id:"email",label:"Correo electrÃ³nico",class:"mb-3",type:"email",modelValue:l.app.userAndRols.email,"onUpdate:modelValue":a[5]||(a[5]=s=>l.app.userAndRols.email=s)},null,8,["modelValue"]),d(r,{label:"Guardar",onClick:l.sendForm,class:"mr-0 ml-auto"},null,8,["onClick"])])}const w=R(U,[["render",B]]);export{w as F};
