import{T as d}from"./TableBase-6806bfe8.js";import{f,d as u}from"./project-ed37d894.js";import{A as b}from"./ArrowBack-9ccc7022.js";import{B as h}from"./ButtonBase-92d87524.js";import{_ as y,u as B,r as w,a,o as v,c as j,g as r,b as g}from"./index-d504a6b8.js";import{T as x}from"./fetchApi-621ceb9d.js";import{S as l}from"./sweetalert2.all-281a79b7.js";const E={name:"ProjectIndex",components:{TableBase:d,ArrowBack:b,ButtonBase:h,TitleBar:x},setup(){const t=B(),m=[{label:"Clave cartera",field:"clave_cartera"},{label:"Nombre proyecto",field:"nombre_proyecto"},{label:"Monto total inversiÃ³n",field:"monto_total_inversion"},{label:"Estatus proyecto",field:"estatus_proyecto"},{label:"Fecha inicio",field:"fecha_inicio_proyecto"},{label:"Fecha fin",field:"fecha_fin_proyecto"}],c=w([]),o=async()=>{const{data:e}=await f();c.value=e},p=[{label:"Editar",action:e=>t.push({name:"EditProject",params:{projectId:e.id_proyecto}})},{label:"Inactivar",action:async e=>{l.fire({title:`Estas seguro que desea Inactivar el proyecto "${e.nombre_proyecto}"?`,text:"Esto Inactivara el proyecto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, Inactivar!"}).then(async s=>{if(s.isConfirmed)try{await u(e.id_proyecto),await o(),l.fire("Eliminado!","El proyecto se elimino","success")}catch(i){l.fire("Error",`${i.response.data.message}`,"error")}})}}],_=()=>t.push({name:"NewProject"}),n=()=>t.push({name:"Home"});return o(),{projects:c,featureOptions:p,headers:m,goToNewProject:_,goToHome:n}}},P={class:"px-4 mt-10"},T={class:"px-4"};function C(t,m,c,o,p,_){const n=a("arrow-back"),e=a("title-bar"),s=a("button-base"),i=a("table-base");return v(),j("main",P,[r(n,{route:o.goToHome},null,8,["route"]),r(e,{title:"Proyectos",subtitle:"Inicio"}),g("section",T,[r(s,{label:"Nuevo proyecto",onClick:o.goToNewProject,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),r(i,{options:o.featureOptions,headers:o.headers,data:o.projects},null,8,["options","headers","data"])])])}const O=y(E,[["render",C]]);export{O as default};
