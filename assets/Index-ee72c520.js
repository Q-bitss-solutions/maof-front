import{T as p}from"./TableBase-c7359489.js";import{f,d as _}from"./contract-24952fae.js";import{B as u}from"./fetchApi-310f3a8f.js";import{_ as C,u as v,r as g,b as t,o as A,c as h,e as a,d as B}from"./index-4f9f8ac2.js";import{T as w}from"./TitleBar-474b18e0.js";import{S as l}from"./sweetalert2.all-281a79b7.js";import{C as x}from"./CustomHeaderApp-eca25b67.js";import"./ArrowBack-73665793.js";import"./HomePage-c475aeba.js";import"./LogoutComponent-82eaf1e5.js";const I={name:"CollaborationAgreementsIndex",components:{TableBase:p,ButtonBase:u,TitleBar:w,CustomHeaderApp:x},setup(){const n=v(),c=[{label:"Id",field:"id_contrato"},{label:"Tipo",field:"tipo_contrato"},{label:"Proyecto padre (Cartera de inversión)",field:"clave_cartera"},{label:"Contratista",field:"nombre_contratista"},{label:"Unidad MAOF",field:"nombre_unidad"},{label:"Número",field:"numero_contrato"},{label:"Objeto",field:"objeto_contrato"},{label:"Monto (sin IVA)",field:"monto_sin_iva"},{label:"Plazo de inicio",field:"plazo_inicio"},{label:"Plazo de fin",field:"plazo_fin"},{label:"Estatus",field:"estatus_contrato"}],r=g([]),o=async()=>{const{data:e}=await f();r.value=e},d=[{label:"Editar",action:e=>n.push({name:"EditCollaborationAgreements",params:{collaborationAgreementsId:e.id_contrato}})},{label:"Inactivar",action:async e=>{l.fire({title:"Se finalizará el Contrato o Convenio de Colaboración...",text:"¿Está usted seguro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, !Finalizar!",reverseButtons:!0}).then(async i=>{if(i.isConfirmed)try{await _(e.id_contrato),await o(),l.fire("Inactivo!","El contrato o convenio de colaboración se inactivó","success")}catch(s){l.fire("Error",`${s.response.data.detail}`,"error")}})}}],m=()=>n.push({name:"NewCollaborationAgreements"});return o(),{collaborationAgreements:r,featureOptions:d,headers:c,goToNewCollaborationAgreements:m}}},T={class:"px-4 mt-10"},y={class:"px-4"};function E(n,c,r,o,d,m){const e=t("CustomHeaderApp"),i=t("title-bar"),s=t("button-base"),b=t("table-base");return A(),h("main",T,[a(e),a(i,{title:"Contratos y Convenios de Colaboración",subtitle:"Inicio"}),B("section",y,[a(s,{label:"Nuevo Contrato o Convenio de Colaboración",onClick:o.goToNewCollaborationAgreements,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),a(b,{description:"Contratos y convenios de colaboración",options:o.featureOptions,headers:o.headers,data:o.collaborationAgreements},null,8,["options","headers","data"])])])}const M=C(I,[["render",E]]);export{M as default};
