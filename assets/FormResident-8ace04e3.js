import{I as b}from"./InputBase-beff4699.js";import{B as u}from"./ButtonBase-f765b112.js";import{S as v}from"./SelectBase-9d47c8d3.js";import{f as R}from"./reviewArea-13e5f26a.js";import{f as y}from"./users-3c033cee.js";import{S as V}from"./sweetalert2.all-281a79b7.js";import{_ as A,k as E,a as n,o as r,c as w,e as c,f as p,g as _}from"./index-8bbcfa6b.js";const B={name:"FormResident",props:{editMode:{type:Boolean,default:!1},resident:{type:Object,default:()=>({})}},components:{InputBase:b,ButtonBase:u,SelectBase:v},setup(d,{emit:o}){const e=E({resident:{id_empleado_sict:"",fecha_inicio_residente:"",fecha_fin_residente:""},idAreaRevisora:"",disabled:!1,listReviewAreas:[],listEmpleados:[]});d.editMode&&(e.resident=d.resident,e.resident.fecha_inicio_residente=d.resident.fecha_inicio_residente.split("-").reverse().join("-"));const a=()=>o("submit",e.resident),l=async()=>{const{data:i}=await R();console.log(i),e.listReviewAreas=i.map(s=>({value:s.id_unidad_maof,label:s.nombre_unidad})),console.log(e.listReviewAreas)},m=async()=>{try{const{data:i}=await y(e.idAreaRevisora);e.listEmpleados=i.map(s=>({value:s.empleado_sict,label:s.nombre_completo})),e.disabled=!1}catch(i){V.fire("Error",`${i.response.data.detail}`,"error"),e.disabled=!0,e.listEmpleados=[]}};return l(),{app:e,sendForm:a,getReviewAreas:l,getEmpleadosSICT:m}}},k={class:"max-w-xl mx-auto"};function C(d,o,e,a,l,m){const i=n("select-base"),s=n("input-base"),f=n("button-base");return r(),w("div",k,[e.editMode!==!0?(r(),c(i,{key:0,id:"id_area_revisora",label:"Área revisora",options:a.app.listReviewAreas,modelValue:a.app.idAreaRevisora,"onUpdate:modelValue":o[0]||(o[0]=t=>a.app.idAreaRevisora=t),onChange:o[1]||(o[1]=t=>a.getEmpleadosSICT()),class:"mb-3"},null,8,["options","modelValue"])):p("",!0),e.editMode!==!0?(r(),c(i,{key:1,id:"id_empleado_sict",label:"Empleado SICT",options:a.app.listEmpleados,class:"mb-3",modelValue:a.app.resident.id_empleado_sict,"onUpdate:modelValue":o[2]||(o[2]=t=>a.app.resident.id_empleado_sict=t),disabled:a.app.disabled},null,8,["options","modelValue","disabled"])):p("",!0),_(s,{id:"fecha_inicio_proyecto",label:"Fecha inicio del residente",type:"date",class:"mb-3",modelValue:a.app.resident.fecha_inicio_residente,"onUpdate:modelValue":o[3]||(o[3]=t=>a.app.resident.fecha_inicio_residente=t)},null,8,["modelValue"]),_(f,{label:"Guardar",onClick:a.sendForm,class:"mr-0 ml-auto",disabled:a.app.disabled},null,8,["onClick","disabled"])])}const T=A(B,[["render",C]]);export{T as F};
