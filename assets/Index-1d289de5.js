import{T as u}from"./TableBase-f8cc54ff.js";import{f as C,d as g}from"./contract-978b80e6.js";import{A as h}from"./ArrowBack-118203f2.js";import{H as v}from"./HomePage-bcf53f11.js";import{B as A}from"./fetchApi-cf1b52b8.js";import{_ as B,a as w,u as x,r as y,b as e,o as k,c as I,d as n,e as a,t as T}from"./index-aacd3d9f.js";import{T as E}from"./TitleBar-634d05d1.js";import{S as b}from"./sweetalert2.all-281a79b7.js";import{L as N}from"./LogoutComponent-1aef6940.js";const z={name:"CollaborationAgreementsIndex",components:{TableBase:u,ArrowBack:h,HomePage:v,ButtonBase:A,TitleBar:E,LogoutComponent:N},setup(){const _=w(),{rol:f}=_.getAuthData,r=x(),o=[{label:"Id",field:"id_contrato"},{label:"Tipo",field:"tipo_contrato"},{label:"Proyecto padre (Cartera de inversión)",field:"clave_cartera"},{label:"Contratista",field:"nombre_contratista"},{label:"Unidad MAOF",field:"nombre_unidad"},{label:"Número",field:"numero_contrato"},{label:"Objeto",field:"objeto_contrato"},{label:"Monto (sin IVA)",field:"monto_sin_iva"},{label:"Plazo de inicio",field:"plazo_inicio"},{label:"Plazo de fin",field:"plazo_fin"},{label:"Estatus",field:"estatus_contrato"}],s=y([]),i=async()=>{const{data:t}=await C();s.value=t},l=[{label:"Editar",action:t=>r.push({name:"EditCollaborationAgreements",params:{collaborationAgreementsId:t.id_contrato}})},{label:"Inactivar",action:async t=>{b.fire({title:"Se finalizará el Contrato o Convenio de Colaboración...",text:"¿Está usted seguro?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, !Finalizar!",reverseButtons:!0}).then(async d=>{if(d.isConfirmed)try{await g(t.id_contrato),await i(),b.fire("Inactivo!","El contrato o convenio de colaboración se inactivó","success")}catch(m){b.fire("Error",`${m.response.data.detail}`,"error")}})}}],c=()=>r.push({name:"NewCollaborationAgreements"});return i(),{collaborationAgreements:s,featureOptions:l,headers:o,rol:f,goToNewCollaborationAgreements:c}}},S={class:"px-4 mt-10"},j={class:"flex justify-between"},O={class:"flex justify-center items-center"},P={class:"text-black font-semibold mr-4 items-center content-center"},V={class:"px-4"};function D(_,f,r,o,s,i){const l=e("arrow-back"),c=e("home-page"),t=e("logout-component"),d=e("title-bar"),m=e("button-base"),p=e("table-base");return k(),I("main",S,[n("div",j,[a(l),n("div",O,[n("p",P,T(o.rol),1),a(c),a(t)])]),a(d,{title:"Contratos y Convenios de Colaboración",subtitle:"Inicio"}),n("section",V,[a(m,{label:"Nuevo Contrato o Convenio de Colaboración",onClick:o.goToNewCollaborationAgreements,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),a(p,{description:"Contratos y convenios de colaboración",options:o.featureOptions,headers:o.headers,data:o.collaborationAgreements},null,8,["options","headers","data"])])])}const K=B(z,[["render",D]]);export{K as default};
