import{T as f}from"./TableBase-459e5149.js";import{f as _,d as p}from"./SICTUnits-99227421.js";import{A as b}from"./ArrowBack-7ec0bc16.js";import{B}from"./ButtonBase-6613367e.js";import{_ as h,u as w,r as A,a as t,o as C,c as O,g as o,b as I}from"./index-ecc95191.js";import{T}from"./fetchApi-16a5ab7b.js";import{S as d}from"./sweetalert2.all-281a79b7.js";const U={name:"UnitMAOFIndex",components:{TableBase:f,ArrowBack:b,ButtonBase:B,TitleBar:T},setup(){const n=w(),c=[{label:"Id",field:"clave_unidad"},{label:"Nombre",field:"unidad"},{label:"Unidad MAOF",field:"unidad"},{label:"Correo",field:"unidad"},{label:"Rol MAOF",field:"unidad"},{label:"Estatus",field:"estado_unidad_maof"}],s=A([]),a=async()=>{const{data:e}=await _();s.value=e},l=[{label:"Editar",action:e=>{n.push({name:"EditUnitMAOF",params:{userRolMAOFId:e.id_unidad_maof}})}},{label:"Eliminar",action:async e=>{d.fire({title:`Estás seguro que desea inactivar la unidad "${e.unidad}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"¡Si, Inactivar!",reverseButtons:!0}).then(async r=>{if(r.isConfirmed)try{await p(e.id_unidad_maof),await a(),d.fire("¡Inactivo!","La unidad se inactivó","success")}catch(i){d.fire("Error",`${i.response.data.detail}`,"error")}})}}],u=()=>n.push({name:"NewUsersRolesMAOF"});return a(),{resident:s,featureOptions:l,headers:c,goToNewResident:u}}},v={class:"px-4 mt-10"},x={class:"px-4"};function F(n,c,s,a,l,u){const e=t("arrow-back"),r=t("title-bar"),i=t("button-base"),m=t("table-base");return C(),O("main",v,[o(e),o(r,{title:"Usuarios y Roles MAOF",subtitle:"Inicio"}),I("section",x,[o(i,{label:"Alta de Usuarios MAOF",onClick:a.goToNewResident,class:"mb-3 mr-0 ml-auto"},null,8,["onClick"]),o(m,{options:a.featureOptions,headers:a.headers,data:a.resident},null,8,["options","headers","data"])])])}const S=h(U,[["render",F]]);export{S as default};
